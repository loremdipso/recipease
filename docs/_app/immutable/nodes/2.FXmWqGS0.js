import{n as ot,a as f,d as it,t as x,e as st,s as V}from"../chunks/aHhSpOdM.js";import{p as nt,f as B,a as lt,c as h,q as S,l as z,s as v,r as u,o as a,u as J,t as A,ap as T}from"../chunks/BYTqjnmQ.js";import{i as w}from"../chunks/DZ2x0wit.js";import{k as _t}from"../chunks/A9ZQMrKf.js";import{e as vt,i as pt}from"../chunks/CLXJqfNh.js";import{a as ct,r as dt,s as q}from"../chunks/DbSBZFay.js";import{s as mt}from"../chunks/BFw_Zomu.js";import{t as K,f as O}from"../chunks/SGeIRAAh.js";import{b as ut}from"../chunks/Yh1PSW4n.js";import{s as ft,a as gt,b as bt}from"../chunks/BwSmt7X6.js";import{o as ht}from"../chunks/DShqRj6q.js";import{A as xt}from"../chunks/DSH1OlOD.js";import{p as kt}from"../chunks/pSGy36bC.js";import{e as W,j as Q,f as Lt}from"../chunks/Cf_TVUnr.js";import"../chunks/DbO4ygGo.js";import{M as wt}from"../chunks/C63kc6XK.js";import{P as U}from"../chunks/CJs7jCQk.js";import{S as yt}from"../chunks/CX_2_5jC.js";import{T as Et}from"../chunks/CpgGpn1j.js";import{H as St}from"../chunks/D0P8unyA.js";import{R as $t}from"../chunks/B6kmmapD.js";import{S as Mt}from"../chunks/Cbj8sxE_.js";import{H as Bt}from"../chunks/DlS-jwaZ.js";import{T as Ht}from"../chunks/DHk8bGmq.js";var Pt=ot('<svg width="16px" height="16px" style="min-width: 16px" viewBox="0 0 512 512"><title>export</title><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g fill="white" transform="translate(64.000000, 48.915055)"><path d="M170.666667,36.418278 L170.666667,79.0849447 L42.6666667,79.0849447 L42.6666667,356.418278 L341.333333,356.418278 L341.333333,228.418278 L384,228.418278 L384,399.084945 L0,399.084945 L0,36.418278 L170.666667,36.418278 Z M313.751611,0 L414.169889,100.418278 L313.751611,200.836556 L283.581722,170.666667 L332.485,121.751 L277.333333,121.751611 C243.249474,121.751611 215.388568,148.395237 213.441977,181.991125 L213.333333,185.751611 L213.333333,292.418278 L170.666667,292.418278 L170.666667,185.751611 C170.666667,128.391511 215.942543,81.6061582 272.706355,79.1834943 L277.333333,79.0849447 L332.484,79.084 L283.581722,30.1698893 L313.751611,0 Z"></path></g></g></svg>');function Tt(y){var p=Pt();f(y,p)}var qt=(y,p,$,I)=>{W(p(),{page_data:{is_going_back:$()<a(I),skip_page_animation:!0},query_params:{id:Lt("id")}})},It=x("<button><!> <!> <!> </button>"),Rt=(y,p)=>{S(p,"")},jt=(y,p)=>{p()},At=x('<input class="grow"> <button class="shrink pl1"><!></button> <button class="shrink pl1"><!></button>',1),Ct=()=>W("/shopping-lists",{page_data:{is_going_back:!0}}),Gt=(y,p,$)=>{S(p,$(),!0)},Zt=x('<button class="shrink pl1" title="Edit" aria-label="Edit"><!></button>'),Dt=x('<button class="shrink white-text flex-row vertically-centered p0 gap0_5" title="Go back" aria-label="Go back"><h1> </h1></button> <!>',1),Ft=x('<div class="flex-row vertically-centered grow"><!></div>'),Nt=async()=>{window.print()},Vt=x('<div class="flex-col"><button>Print</button></div>'),zt=x("<!> <!> <!> <!>",1),Jt=x('<hr class="grow grey-text">'),Kt=x("<!> <!>",1),Ot=x('<div class="transition-container svelte-bc3syt"><!></div>'),Qt=x('<!> <main class="svelte-bc3syt"><div class="no-print flex-row vertically-centered pb1 grow-children"></div> <div class="relative full-height"><!></div></main> <!>',1);function xa(y,p){nt(p,!0);const[$,I]=ft(),C=()=>gt(Q,"$current_list_name",$),X=(s,n=T,r=T,o=T,d=T)=>{var l=It();let g;l.__click=[qt,r,d,Y];var e=h(l);{var b=t=>{U(t)};w(e,t=>{o()==="edit"&&t(b)})}var i=v(e,2);{var m=t=>{wt(t)};w(i,t=>{o()==="view"&&t(m)})}var L=v(i,2);{var _=t=>{Tt(t)};w(L,t=>{o()==="export"&&t(_)})}var E=v(L);u(l),A(t=>{g=mt(l,1,"blue rounded p0_5 bold with-fade icon-button justify-center animate__animated svelte-bc3syt",null,g,t),l.disabled=a(k)===r(),V(E,` ${n()??""}`)},[()=>({animate__pulse:a(k)===r(),selected:a(k)===r()})]),f(s,l)},M=[{text:"Edit",url:"/shopping-lists/list/edit",icon:"edit"},{text:"View",url:"/shopping-lists/list/view",icon:"view"},{text:"Export",url:"/shopping-lists/list/export",icon:"export"}],k=J(()=>kt.route.id),Y=J(()=>M.findIndex(s=>s.url===a(k)));let H=z(!1);ht(s=>{var o,d;let n=(o=s.from)==null?void 0:o.route.id,r=(d=s.to)==null?void 0:d.route.id;if(n&&r){let l=M.findIndex(e=>e.url===n),g=M.findIndex(e=>e.url===r);S(H,g<l)}else S(H,!1)});const G=500;let c=z(null);function Z(){a(c)&&bt(Q,a(c)),S(c,null)}var D=Qt(),F=B(D);Ht(F,{back_path:"/shopping-lists",title_snippet:r=>{var o=Ft(),d=h(o);{var l=e=>{var b=At(),i=B(b);dt(i);var m=v(i,2);m.__click=[Rt,c];var L=h(m);Et(L),u(m);var _=v(m,2);_.__click=[jt,Z];var E=h(_);yt(E),u(_),A(()=>{q(m,"title",a(c)?"Save":"Edit"),q(m,"aria-label",a(c)?"Save":"Edit"),q(_,"title",a(c)?"Save":"Edit"),q(_,"aria-label",a(c)?"Save":"Edit")}),st("keypress",i,t=>{t.key==="Enter"&&(t.preventDefault(),t.stopPropagation(),Z())}),ut(i,()=>a(c),t=>S(c,t)),f(e,b)},g=e=>{var b=Dt(),i=B(b);i.__click=[Ct];var m=h(i),L=h(m,!0);u(m),u(i);var _=v(i,2);{var E=t=>{var P=Zt();P.__click=[Gt,c,C];var rt=h(P);U(rt),u(P),f(t,P)};w(_,t=>{a(k)==="/shopping-lists/list/edit"&&t(E)})}A(()=>V(L,C())),f(e,b)};w(d,e=>{a(c)?e(l):e(g,!1)})}u(o),f(r,o)},extra_buttons:r=>{var o=zt(),d=B(o);Mt(d,{go_back:!0});var l=v(d,2);$t(l,{});var g=v(l,2);St(g);var e=v(g,2);{var b=i=>{Bt(i,{items:L=>{var _=Vt(),E=h(_);E.__click=[Nt],u(_),f(L,_)}})};w(e,i=>{a(k)==="/shopping-lists/list/view"&&i(b)})}f(r,o)},$$slots:{title_snippet:!0,extra_buttons:!0}});var R=v(F,2),j=h(R);vt(j,21,()=>M,pt,(s,n,r)=>{var o=Kt(),d=B(o);X(d,()=>a(n).text,()=>a(n).url,()=>a(n).icon,()=>r);var l=v(d,2);{var g=e=>{var b=Jt();f(e,b)};w(l,e=>{r<M.length-1&&e(g)})}f(s,o)}),u(j);var N=v(j,2),tt=h(N);_t(tt,()=>a(k),s=>{var n=Ot(),r=h(n);ct(r,()=>p.children),u(n),K(1,n,()=>O,()=>({x:a(H)?"-100%":"100%",duration:G})),K(2,n,()=>O,()=>({x:a(H)?"100%":"-100%",duration:G})),f(s,n)}),u(N),u(R);var at=v(R,2);{var et=s=>{xt(s,{})};w(at,s=>{a(k)==="/shopping-lists/list/edit"&&s(et)})}f(y,D),lt(),I()}it(["click"]);export{xa as component};
