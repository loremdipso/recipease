import{d as sa,t as d,a as n,s as N,b as M}from"../chunks/CYIjoMr1.js";import{p as oa,l as j,m as ia,f as q,a as la,s as p,c as o,t as z,i as a,n as h,r as e,o as va}from"../chunks/DdW1EsoA.js";import{s as G}from"../chunks/CglLUYzN.js";import{i as b}from"../chunks/xsFzECmQ.js";import{e as E,i as _a}from"../chunks/DWk5ghVn.js";import{s as na}from"../chunks/BhOZLbEh.js";import{s as ca}from"../chunks/B7XJn2s4.js";import{t as pa,s as da}from"../chunks/DQ6ywEsN.js";import{s as ua,a as ma}from"../chunks/CkSXy_xo.js";import{p as fa}from"../chunks/MMozI1JW.js";import{d as ga,u as H}from"../chunks/DmioJiEo.js";import{g as xa,a as ba}from"../chunks/BfBYdUds.js";import{R as ha,S as ka,a as ya}from"../chunks/DCSRILoa.js";import{T as wa}from"../chunks/AmogBFoe.js";import{A as Sa}from"../chunks/MAbwEkBc.js";import{C as $a}from"../chunks/CLpTXNSu.js";import{S as Da}from"../chunks/Bu6BXeXL.js";import{P as Pa}from"../chunks/CjA7HIXi.js";import{T as Ra}from"../chunks/DthNnMJE.js";var Ta=d("<!> <!>",1),Aa=(l,c)=>{l.stopPropagation(),l.preventDefault(),a(c).starred=!1,H(G(a(c)))},Ba=d("<button><!></button>"),Ca=(l,c)=>{l.stopPropagation(),l.preventDefault(),a(c).starred=!0,H(G(a(c)))},Fa=d("<button><!></button>"),La=(l,c,k)=>{l.stopPropagation(),l.preventDefault(),h(c,a(k).url,!0)},Na=d('<div class="rounded"> </div>'),Ma=d('<div class="flex-row flex-end green-text wrap gap2"></div>'),ja=d('<div><a class="flex-col grow"><div class="flex-row vertically-centered gap0_5"><div class="shrink"><!></div> <span class="grow"> </span> <button class="shrink" title="Delete" aria-label="Delete"><!></button></div> <!></a></div>'),qa=d('<div class="recipe-row"><!></div>'),za=d('<!> <main class="flex-col gap1"><div class="full-width flex-col"><div class="card has-list gap1 flex-col pt0"><div class="rounded-bottom black p0_5"><!></div> <div class="list"></div></div></div></main> <!> <!>',1);function ot(l,c){oa(c,!0);const[k,I]=ua(),J=()=>ma(ba,"$all_recipes",k);let y=j(ia([])),m=j(null);const K=va(()=>{var s;return(s=fa.state)==null?void 0:s.previously_selected_recipe});var T=za(),A=q(T);Ra(A,{title:"My Saved Recipes",back_path:"/",extra_buttons:r=>{var g=Ta(),v=q(g);$a(v,{});var f=p(v,2);Da(f,{}),n(r,g)},$$slots:{extra_buttons:!0}});var w=p(A,2),B=o(w),C=o(B),S=o(C),O=o(S);ha(O,{get recipes(){return a(y)},set recipes(s){h(y,s,!0)}}),e(S);var F=p(S,2);E(F,21,()=>a(y),s=>s.url,(s,r,g)=>{var v=ja();let f;var _=o(v),u=o(_),$=o(u),V=o($);{var W=i=>{var t=Ba();t.__click=[Aa,r];var x=o(t);ka(x),e(t),n(i,t)},X=i=>{var t=Fa();t.__click=[Ca,r];var x=o(t);ya(x),e(t),n(i,t)};b(V,i=>{a(r).starred?i(W):i(X,!1)})}e($);var D=p($,2),Y=o(D,!0);e(D);var P=p(D,2);P.__click=[La,m,r];var Z=o(P);wa(Z),e(P),e(u);var aa=p(u,2);{var ta=i=>{var t=Ma();E(t,21,()=>a(r).tags,_a,(x,ra)=>{var R=Na(),ea=o(R,!0);e(R),z(()=>N(ea,a(ra))),n(x,R)}),e(t),n(i,t)};b(aa,i=>{var t;(t=a(r).tags)!=null&&t.length&&i(ta)})}e(_),e(v),z((i,t)=>{f=ca(v,1,"flex-col",null,f,i),na(_,"href",t),N(Y,a(r).title||"<missing title>")},[()=>({selected:a(r).url&&a(r).url===a(K)}),()=>xa("/my-recipes/recipe",{url:a(r).url})]),pa(3,v,()=>da),n(s,v)},s=>{var r=qa(),g=o(r);{var v=_=>{var u=M("No recipes match current filters");n(_,u)},f=_=>{var u=M("No recipes yet");n(_,u)};b(g,_=>{J().length?_(v):_(f,!1)})}e(r),n(s,r)}),e(F),e(C),e(B),e(w);var L=p(w,2);Sa(L,{});var Q=p(L,2);{var U=s=>{Pa(s,{text:"Are you sure?",accept:()=>{a(m)&&(ga(a(m)),h(m,null))},cancel:()=>{h(m,null)}})};b(Q,s=>{a(m)&&s(U)})}n(l,T),la(),I()}sa(["click"]);export{ot as component};
