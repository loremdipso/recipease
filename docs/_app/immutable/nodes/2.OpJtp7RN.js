import{n as it,a as u,d as ot,t as x,e as st,s as N}from"../chunks/Br7P6-nc.js";import{p as nt,f as M,a as lt,c as h,B as S,z as V,s as v,r as f,i as a,C as J,t as q,ap as T}from"../chunks/CBx8egCH.js";import{i as w}from"../chunks/COUgnmWl.js";import{k as _t}from"../chunks/C-gjBsEE.js";import{e as vt,i as pt}from"../chunks/IIMqjkV9.js";import{a as ct,r as dt,s as C}from"../chunks/0KIouc5R.js";import{s as mt}from"../chunks/BODjv-73.js";import{t as K,f as O}from"../chunks/B9TfIOaX.js";import{b as ft}from"../chunks/BEvkJWZC.js";import{s as ut,a as gt,b as bt}from"../chunks/CgSSeZ4p.js";import{o as ht}from"../chunks/h2pgyqrt.js";import{A as xt}from"../chunks/DcyWYxrr.js";import{p as kt}from"../chunks/C-EjI3E6.js";import{c as W,j as Q,f as Lt}from"../chunks/CpmnRlx9.js";import"../chunks/D2pXA-vA.js";import{M as wt}from"../chunks/B33Gqscv.js";import{P as U}from"../chunks/WMnQWNEA.js";import{S as yt}from"../chunks/B4lOgxD0.js";import{T as Et}from"../chunks/vU-L2Mcm.js";import{H as St}from"../chunks/C5ir_NnF.js";import{R as $t}from"../chunks/DQNGVHUW.js";import{S as Bt}from"../chunks/3HrKtO-M.js";import{H as Mt}from"../chunks/Dc6sMuDu.js";import{T as Ht}from"../chunks/aviU52IE.js";var Pt=it('<svg width="16px" height="16px" style="min-width: 16px" viewBox="0 0 512 512"><title>export</title><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g fill="white" transform="translate(64.000000, 48.915055)"><path d="M170.666667,36.418278 L170.666667,79.0849447 L42.6666667,79.0849447 L42.6666667,356.418278 L341.333333,356.418278 L341.333333,228.418278 L384,228.418278 L384,399.084945 L0,399.084945 L0,36.418278 L170.666667,36.418278 Z M313.751611,0 L414.169889,100.418278 L313.751611,200.836556 L283.581722,170.666667 L332.485,121.751 L277.333333,121.751611 C243.249474,121.751611 215.388568,148.395237 213.441977,181.991125 L213.333333,185.751611 L213.333333,292.418278 L170.666667,292.418278 L170.666667,185.751611 C170.666667,128.391511 215.942543,81.6061582 272.706355,79.1834943 L277.333333,79.0849447 L332.484,79.084 L283.581722,30.1698893 L313.751611,0 Z"></path></g></g></svg>');function Tt(y){var p=Pt();u(y,p)}var Ct=(y,p,$,I)=>{W(p(),{page_data:{is_going_back:$()<a(I),skip_page_animation:!0},query_params:{id:Lt("id")}})},It=x("<button><!> <!> <!> </button>"),Rt=(y,p)=>{S(p,"")},jt=(y,p)=>{p()},qt=x('<input class="grow"> <button class="shrink pl1"><!></button> <button class="shrink pl1"><!></button>',1),At=()=>W("/shopping-lists",{page_data:{is_going_back:!0}}),Gt=(y,p,$)=>{S(p,$(),!0)},Zt=x('<button class="shrink pl1" title="Edit" aria-label="Edit"><!></button>'),zt=x('<button class="shrink white-text flex-row vertically-centered p0 gap0_5" title="Go back" aria-label="Go back"><h1> </h1></button> <!>',1),Dt=x('<div class="flex-row vertically-centered grow"><!></div>'),Ft=async()=>{window.print()},Nt=x('<div class="flex-col"><button>Print</button></div>'),Vt=x("<!> <!> <!> <!>",1),Jt=x('<hr class="grow grey-text">'),Kt=x("<!> <!>",1),Ot=x('<div class="transition-container svelte-bc3syt"><!></div>'),Qt=x('<!> <main class="svelte-bc3syt"><div class="no-print flex-row vertically-centered pb1 grow-children"></div> <div class="relative full-height"><!></div></main> <!>',1);function xa(y,p){nt(p,!0);const[$,I]=ut(),A=()=>gt(Q,"$current_list_name",$),X=(s,n=T,r=T,i=T,d=T)=>{var l=It();let g;l.__click=[Ct,r,d,Y];var e=h(l);{var b=t=>{U(t)};w(e,t=>{i()==="edit"&&t(b)})}var o=v(e,2);{var m=t=>{wt(t)};w(o,t=>{i()==="view"&&t(m)})}var L=v(o,2);{var _=t=>{Tt(t)};w(L,t=>{i()==="export"&&t(_)})}var E=v(L);f(l),q(t=>{g=mt(l,1,"blue rounded p0_5 bold with-fade icon-button justify-center animate__animated svelte-bc3syt",null,g,t),l.disabled=a(k)===r(),N(E,` ${n()??""}`)},[()=>({animate__pulse:a(k)===r(),selected:a(k)===r()})]),u(s,l)},B=[{text:"Edit",url:"/shopping-lists/list/edit",icon:"edit"},{text:"View",url:"/shopping-lists/list/view",icon:"view"},{text:"Export",url:"/shopping-lists/list/export",icon:"export"}],k=J(()=>kt.route.id),Y=J(()=>B.findIndex(s=>s.url===a(k)));let H=V(!1);ht(s=>{var i,d;let n=(i=s.from)==null?void 0:i.route.id,r=(d=s.to)==null?void 0:d.route.id;if(n&&r){let l=B.findIndex(e=>e.url===n),g=B.findIndex(e=>e.url===r);S(H,g<l)}else S(H,!1)});const G=500;let c=V(null);function Z(){a(c)&&bt(Q,a(c)),S(c,null)}var z=Qt(),D=M(z);Ht(D,{back_path:"/shopping-lists",title_snippet:r=>{var i=Dt(),d=h(i);{var l=e=>{var b=qt(),o=M(b);dt(o);var m=v(o,2);m.__click=[Rt,c];var L=h(m);Et(L),f(m);var _=v(m,2);_.__click=[jt,Z];var E=h(_);yt(E),f(_),q(()=>{C(m,"title",a(c)?"Save":"Edit"),C(m,"aria-label",a(c)?"Save":"Edit"),C(_,"title",a(c)?"Save":"Edit"),C(_,"aria-label",a(c)?"Save":"Edit")}),st("keypress",o,t=>{t.key==="Enter"&&(t.preventDefault(),t.stopPropagation(),Z())}),ft(o,()=>a(c),t=>S(c,t)),u(e,b)},g=e=>{var b=zt(),o=M(b);o.__click=[At];var m=h(o),L=h(m,!0);f(m),f(o);var _=v(o,2);{var E=t=>{var P=Zt();P.__click=[Gt,c,A];var rt=h(P);U(rt),f(P),u(t,P)};w(_,t=>{a(k)==="/shopping-lists/list/edit"&&t(E)})}q(()=>N(L,A())),u(e,b)};w(d,e=>{a(c)?e(l):e(g,!1)})}f(i),u(r,i)},extra_buttons:r=>{var i=Vt(),d=M(i);Bt(d,{go_back:!0});var l=v(d,2);$t(l,{});var g=v(l,2);St(g);var e=v(g,2);{var b=o=>{Mt(o,{items:L=>{var _=Nt(),E=h(_);E.__click=[Ft],f(_),u(L,_)}})};w(e,o=>{a(k)==="/shopping-lists/list/view"&&o(b)})}u(r,i)},$$slots:{title_snippet:!0,extra_buttons:!0}});var R=v(D,2),j=h(R);vt(j,21,()=>B,pt,(s,n,r)=>{var i=Kt(),d=M(i);X(d,()=>a(n).text,()=>a(n).url,()=>a(n).icon,()=>r);var l=v(d,2);{var g=e=>{var b=Jt();u(e,b)};w(l,e=>{r<B.length-1&&e(g)})}u(s,i)}),f(j);var F=v(j,2),tt=h(F);_t(tt,()=>a(k),s=>{var n=Ot(),r=h(n);ct(r,()=>p.children),f(n),K(1,n,()=>O,()=>({x:a(H)?"-100%":"100%",duration:G})),K(2,n,()=>O,()=>({x:a(H)?"100%":"-100%",duration:G})),u(s,n)}),f(F),f(R);var at=v(R,2);{var et=s=>{xt(s,{})};w(at,s=>{a(k)==="/shopping-lists/list/edit"&&s(et)})}u(y,z),lt(),I()}ot(["click"]);export{xa as component};
