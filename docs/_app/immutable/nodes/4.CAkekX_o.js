import{d as oa,t as d,a as n,s as N,b as z}from"../chunks/Br7P6-nc.js";import{p as ia,z as M,A as la,f as j,a as va,s as p,c as o,t as q,i as a,B as h,r as e,C as _a}from"../chunks/CBx8egCH.js";import{s as G}from"../chunks/CVbmqFT_.js";import{i as b}from"../chunks/COUgnmWl.js";import{e as E,i as na}from"../chunks/IIMqjkV9.js";import{s as ca}from"../chunks/0KIouc5R.js";import{s as pa}from"../chunks/BODjv-73.js";import{t as da,s as ua}from"../chunks/B9TfIOaX.js";import{s as ma,a as fa}from"../chunks/CgSSeZ4p.js";import{p as ga}from"../chunks/yc3WJ0ns.js";import{d as xa,u as H}from"../chunks/1AdgqzQS.js";import{g as ba,a as ha}from"../chunks/DY5NW6g7.js";import{R as ka,S as ya,a as wa}from"../chunks/DqHexN2I.js";import{T as Sa}from"../chunks/vU-L2Mcm.js";import{A as $a}from"../chunks/CeMNxLT2.js";import{C as Da}from"../chunks/wZHSGgnN.js";import{S as Pa}from"../chunks/DsoHacyo.js";import{P as Aa}from"../chunks/D1J1T8Ht.js";import{T as Ra}from"../chunks/Csfl2R9Y.js";var Ta=d("<!> <!>",1),Ba=(l,c)=>{l.stopPropagation(),l.preventDefault(),a(c).starred=!1,H(G(a(c)))},Ca=d("<button><!></button>"),Fa=(l,c)=>{l.stopPropagation(),l.preventDefault(),a(c).starred=!0,H(G(a(c)))},La=d("<button><!></button>"),Na=(l,c,k)=>{l.stopPropagation(),l.preventDefault(),h(c,a(k).url,!0)},za=d('<div class="rounded"> </div>'),Ma=d('<div class="flex-row flex-end green-text wrap gap2"></div>'),ja=d('<div><a class="flex-col grow"><div class="flex-row vertically-centered gap0_5"><div class="shrink"><!></div> <span class="grow"> </span> <button class="shrink" title="Delete" aria-label="Delete"><!></button></div> <!></a></div>'),qa=d('<div class="recipe-row"><!></div>'),Ea=d('<!> <main class="flex-col gap1"><div class="full-width flex-col"><div class="card has-list gap1 flex-col pt0"><div class="rounded-bottom black p0_5"><!></div> <div class="list"></div></div></div></main> <!> <!>',1);function it(l,c){ia(c,!0);const[k,I]=ma(),J=()=>fa(ha,"$all_recipes",k);let y=M(la([])),m=M(null);const K=_a(()=>{var s;return(s=ga.state)==null?void 0:s.previously_selected_recipe});let O=400;var R=Ea(),T=j(R);Ra(T,{title:"My Saved Recipes",back_path:"/",extra_buttons:r=>{var g=Ta(),v=j(g);Da(v,{});var f=p(v,2);Pa(f,{}),n(r,g)},$$slots:{extra_buttons:!0}});var w=p(T,2),B=o(w),C=o(B),S=o(C),Q=o(S);ka(Q,{get recipes(){return a(y)},set recipes(s){h(y,s,!0)}}),e(S);var F=p(S,2);E(F,21,()=>a(y),s=>s.url,(s,r,g)=>{var v=ja();let f;var _=o(v),u=o(_),$=o(u),W=o($);{var X=i=>{var t=Ca();t.__click=[Ba,r];var x=o(t);ya(x),e(t),n(i,t)},Y=i=>{var t=La();t.__click=[Fa,r];var x=o(t);wa(x),e(t),n(i,t)};b(W,i=>{a(r).starred?i(X):i(Y,!1)})}e($);var D=p($,2),Z=o(D,!0);e(D);var P=p(D,2);P.__click=[Na,m,r];var aa=o(P);Sa(aa),e(P),e(u);var ta=p(u,2);{var ra=i=>{var t=Ma();E(t,21,()=>a(r).tags,na,(x,ea)=>{var A=za(),sa=o(A,!0);e(A),q(()=>N(sa,a(ea))),n(x,A)}),e(t),n(i,t)};b(ta,i=>{var t;(t=a(r).tags)!=null&&t.length&&i(ra)})}e(_),e(v),q((i,t)=>{f=pa(v,1,"flex-col",null,f,i),ca(_,"href",t),N(Z,a(r).title||"<missing title>")},[()=>({selected:a(r).url&&a(r).url===a(K)}),()=>ba("/my-recipes/recipe",{url:a(r).url})]),da(3,v,()=>ua,()=>({duration:O})),n(s,v)},s=>{var r=qa(),g=o(r);{var v=_=>{var u=z("No recipes match current filters");n(_,u)},f=_=>{var u=z("No recipes yet");n(_,u)};b(g,_=>{J().length?_(v):_(f,!1)})}e(r),n(s,r)}),e(F),e(C),e(B),e(w);var L=p(w,2);$a(L,{});var U=p(L,2);{var V=s=>{Aa(s,{text:"Are you sure?",accept:()=>{a(m)&&(xa(a(m)),h(m,null))},cancel:()=>{h(m,null)}})};b(U,s=>{a(m)&&s(V)})}n(l,R),va(),I()}oa(["click"]);export{it as component};
