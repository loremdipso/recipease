import{d as ra,t as p,a as n,s as z,b as M}from"../chunks/DwgEjbxA.js";import{p as ea,z as j,A as q,f as E,a as sa,s as c,c as o,t as G,i as a,B as h,r as e,C as oa}from"../chunks/CaVnAIw_.js";import{i as y}from"../chunks/C_eFljRt.js";import{e as H,i as ia}from"../chunks/BKNwm1Mp.js";import{s as la}from"../chunks/DEpH4IwR.js";import{s as va}from"../chunks/DPUI1Xrs.js";import{t as _a,s as na}from"../chunks/By2nwULu.js";import{p as da}from"../chunks/D1GbCkkb.js";import{g as ca,a as pa,d as ua,u as I}from"../chunks/BRz5OOaA.js";import{R as fa,S as ma,a as ga}from"../chunks/DWnAN3XB.js";import{T as xa}from"../chunks/CrVo5Hep.js";import{A as ba}from"../chunks/Cmzp5bhs.js";import{C as ha}from"../chunks/ChW4vB16.js";import{S as ka}from"../chunks/DjDeC28w.js";import{P as ya}from"../chunks/lxbPnOeZ.js";import{T as wa}from"../chunks/DpR3YKCo.js";var Sa=p("<!> <!>",1),Da=(l,d)=>{l.stopPropagation(),l.preventDefault(),a(d).starred=!1,I(a(d))},Pa=p("<button><!></button>"),Aa=(l,d)=>{l.stopPropagation(),l.preventDefault(),a(d).starred=!0,I(a(d))},Ra=p("<button><!></button>"),Ta=(l,d,k)=>{l.stopPropagation(),l.preventDefault(),h(d,a(k).url,!0)},Ba=p('<div class="rounded"> </div>'),Ca=p('<div class="flex-row flex-end green-text wrap gap2"></div>'),Fa=p('<div><a class="flex-col grow"><div class="flex-row vertically-centered gap0_5"><div class="shrink"><!></div> <span class="grow"> </span> <button class="shrink" title="Delete" aria-label="Delete"><!></button></div> <!></a></div>'),La=p('<div class="recipe-row"><!></div>'),Na=p('<!> <main class="flex-col gap1"><div class="full-width flex-col"><div class="card has-list gap1 flex-col pt0"><div class="rounded-bottom black p0_5"><!></div> <div class="list"></div></div></div></main> <!> <!>',1);function Ya(l,d){ea(d,!0);let k=j(ca().reverse()),g=q(j([])),f=q(null);const J=oa(()=>{var s;return(s=da.state)==null?void 0:s.previously_selected_recipe});var T=Na(),B=E(T);wa(B,{title:"My Saved Recipes",back_path:"/",extra_buttons:r=>{var x=Sa(),v=E(x);ha(v,{});var m=c(v,2);ka(m,{}),n(r,x)},$$slots:{extra_buttons:!0}});var w=c(B,2),C=o(w),F=o(C),S=o(F),K=o(S);fa(K,{get all_recipes(){return k},get recipes(){return a(g)},set recipes(s){h(g,s,!0)}}),e(S);var L=c(S,2);H(L,21,()=>a(g),s=>s.url,(s,r,x)=>{var v=Fa();let m;var _=o(v),u=o(_),D=o(u),U=o(D);{var V=i=>{var t=Pa();t.__click=[Da,r];var b=o(t);ma(b),e(t),n(i,t)},W=i=>{var t=Ra();t.__click=[Aa,r];var b=o(t);ga(b),e(t),n(i,t)};y(U,i=>{a(r).starred?i(V):i(W,!1)})}e(D);var P=c(D,2),X=o(P,!0);e(P);var A=c(P,2);A.__click=[Ta,f,r];var Y=o(A);xa(Y),e(A),e(u);var Z=c(u,2);{var $=i=>{var t=Ca();H(t,21,()=>a(r).tags,ia,(b,aa)=>{var R=Ba(),ta=o(R,!0);e(R),G(()=>z(ta,a(aa))),n(b,R)}),e(t),n(i,t)};y(Z,i=>{var t;(t=a(r).tags)!=null&&t.length&&i($)})}e(_),e(v),G((i,t)=>{m=va(v,1,"flex-col",null,m,i),la(_,"href",t),z(X,a(r).title||"<missing title>")},[()=>({selected:a(r).url&&a(r).url===a(J)}),()=>pa("/my-recipes/recipe",{url:a(r).url})]),_a(3,v,()=>na),n(s,v)},s=>{var r=La(),x=o(r);{var v=_=>{var u=M("No recipes match current filters");n(_,u)},m=_=>{var u=M("No recipes yet");n(_,u)};y(x,_=>{k.length?_(v):_(m,!1)})}e(r),n(s,r)}),e(L),e(F),e(C),e(w);var N=c(w,2);ba(N,{});var O=c(N,2);{var Q=s=>{ya(s,{text:"Are you sure?",accept:()=>{a(f)&&(h(g,ua(a(g),a(f)),!0),h(f,null))},cancel:()=>{h(f,null)}})};y(O,s=>{a(f)&&s(Q)})}n(l,T),sa()}ra(["click"]);export{Ya as component};
