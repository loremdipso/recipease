import{d as Tt,t as d,c as nt,a as n,s as $,n as Xt,i as Zt,e as $t}from"../chunks/SB0OVNle.js";import{q as kt,p as vt,d as dt,c as s,s as l,r as i,i as e,f as be,t as B,a as ut,z as N,B as p,aA as wt,A as Qe,at as ea,C as V,ap as xt,G as rt}from"../chunks/DSkh8qEa.js";import{s as Ge}from"../chunks/CcQv_5Hk.js";import{i as w}from"../chunks/CvGVVl0L.js";import{e as Ae,i as Pe}from"../chunks/C4ChMz49.js";import{r as qt,b as ta,a as aa,s as Le}from"../chunks/B143Bn_A.js";import{t as ra,s as D,c as it}from"../chunks/XkMwF1L_.js";import{b as ia}from"../chunks/gtfbXTp4.js";import{s as oa,a as Xe}from"../chunks/CHrfQ6KJ.js";import{a as Bt,b as sa,C as la,s as na}from"../chunks/1y9ZR8l3.js";import{b as ct}from"../chunks/CdUqOFUv.js";import{p as ca}from"../chunks/RUwxddAJ.js";import{M as yt}from"../chunks/CZcAYEqQ.js";import{F as Y,K as Kt,U as we,t as _a,i as va,d as da,u as Rt,n as ua,o as fa,p as ga,q as pa,b as Et}from"../chunks/CdM8yK0z.js";import{t as It,f as St}from"../chunks/Du2Mpddd.js";import{S as Ft}from"../chunks/DlFNe--K.js";import{n as _t,H as ba,c as Nt,w as ma,F as ha,z as Ze,l as ka,a as wa,e as xa}from"../chunks/BXxlaY2r.js";import{T as ya,L as Lt,A as Ra}from"../chunks/0sfckkht.js";import{A as Ea}from"../chunks/CEpLBpL9.js";import{P as Ia,A as Sa}from"../chunks/BG2a_ETu.js";import{a as Fa}from"../chunks/B6ZjVAHu.js";import{H as La}from"../chunks/B-UKB5t0.js";import{P as Aa}from"../chunks/W0hNaV_2.js";import{S as Pa}from"../chunks/BR2bAqsn.js";import{R as Ca}from"../chunks/DEaax3ov.js";import{T as At}from"../chunks/BaRewT1R.js";import{H as ja}from"../chunks/Cr2i4ZFg.js";import{C as Ta}from"../chunks/DdhWUYEF.js";import{S as qa}from"../chunks/7KZUXLyZ.js";import{R as Ba}from"../chunks/w1dkfwTZ.js";import{P as Pt}from"../chunks/DZmU10Ic.js";import"../chunks/lJugi39j.js";function ot(a,t={},o,y){for(var S in o){var z=o[S];t[S]!==z&&(o[S]==null?a.style.removeProperty(S):a.style.setProperty(S,z,y))}}function Ka(a,t,o,y){var S=a.__style;if(kt||S!==t){var z=ra(t,y);(!kt||z!==a.getAttribute("style"))&&(z==null?a.removeAttribute("style"):a.style.cssText=z),a.__style=t}else y&&(Array.isArray(y)?(ot(a,o==null?void 0:o[0],y[0]),ot(a,o==null?void 0:o[1],y[1],"important")):ot(a,o,y));return y}var Na=d("<h2> </h2>"),za=d("<h3> </h3>"),Ma=d("<h4> </h4>"),Oa=(a,t)=>t.onCloseSection(),Ha=d('<button class="shrink no-print p1" title="Close" aria-label="Close"><!></button>'),Ua=(a,t)=>t.onFocusSection(t.section),Da=d('<button class="shrink no-print p1" title="Focus" aria-label="Focus"><!></button>'),Ga=(a,t,o)=>{t()[e(o).id]=a.target.checked},Ja=d('<span class="svelte-12fzojj"> </span>'),Wa=d('<b class="svelte-12fzojj"> </b>'),Va=d('<b class="svelte-12fzojj"> </b>'),Ya=(a,t,o)=>{e(t).id!=null&&e(t).type===Y.Ingredient&&(a.preventDefault(),o.onHighlightKeyword(e(t).id))},Qa=d("<button> </button>"),Xa=d("<span> </span>"),Za=(a,t,o)=>{let y=new Set;for(let S of e(t).fragments)S.id!=null&&S.type===Y.Ingredient&&y.add(S.id);o.onFocusIngredients(y)},$a=d('<button class="bottom-right-floater svelte-12fzojj" title="Focus ingredients" aria-label="Focus ingredients"><!></button>'),er=d('<label><input class="shrink" type="checkbox"> <div class="fragments grow ph0_5 lh2 svelte-12fzojj"></div> <!></label>'),tr=d('<div><header class="flex-row vertically-centered gap1"><!> <!></header> <div class="list"></div></div>');function ar(a,t){vt(t,!0);let o=ca(t,"checked_items",7);function y(h){switch(h.type){case Y.Ingredient:return"ingredient";case Y.Temperature:return"temperature";case Y.Percentage:return"percentage";case Y.Amount:return"amount";default:return""}}function S(h){return!!(t.selectedKeyword&&h.fragments.find(c=>c.id==t.selectedKeyword))}function z(h){if(!t.isFocused&&t.section.text!=="Ingredients"){let c=0;for(let j of h.fragments)j.type===Y.Ingredient&&(c+=1);if(c>=3)return!0}return!1}let G;dt(()=>{G&&t.isFocused&&t.section&&G.scrollIntoView()});var P=tr(),le=s(P),J=s(le);{var u=h=>{var c=Na(),j=s(c,!0);i(c),B(()=>$(j,t.section.text)),n(h,c)},xe=(h,c)=>{{var j=F=>{var L=za(),x=s(L,!0);i(L),B(()=>$(x,t.section.text)),n(F,L)},te=(F,L)=>{{var x=T=>{var b=Ma(),_=s(b,!0);i(b),B(()=>$(_,t.section.text)),n(T,b)};w(F,T=>{t.section.level===4&&T(x)},L)}};w(h,F=>{t.section.level===3?F(j):F(te,!1)},c)}};w(J,h=>{t.section.level===2?h(u):h(xe,!1)})}var C=l(J,2);{var ee=h=>{var c=nt(),j=be(c);{var te=L=>{var x=Ha();x.__click=[Oa,t];var T=s(x);la(T),i(x),n(L,x)},F=L=>{var x=Da();x.__click=[Ua,t];var T=s(x);yt(T),i(x),n(L,x)};w(j,L=>{t.isFocused?L(te):L(F,!1)})}n(h,c)};w(C,h=>{t.section.rows.length&&h(ee)})}i(le);var W=l(le,2);Ae(W,21,()=>t.section.rows,Pe,(h,c)=>{var j=er();let te;var F=s(j);qt(F),F.__change=[Ga,o,c];var L=l(F,2);Ae(L,21,()=>e(c).fragments,Pe,(b,_)=>{var H=nt(),We=be(H);{var Ce=ae=>{var ne=Ja(),Te=s(ne,!0);i(ne),B(()=>$(Te,e(_).text)),n(ae,ne)},je=(ae,ne)=>{{var Te=ce=>{var _e=Wa(),me=s(_e,!0);i(_e),B(()=>$(me,e(_).text)),n(ce,_e)},$e=(ce,_e)=>{{var me=ve=>{var de=Va(),ye=s(de,!0);i(de),B(()=>$(ye,e(_).text)),n(ve,de)},q=(ve,de)=>{{var ye=Q=>{var M=Qa();let he;M.__click=[Ya,_,t];var qe=s(M,!0);i(M),B((Be,Re)=>{he=D(M,1,Be,"svelte-12fzojj",he,Re),$(qe,e(_).text)},[()=>it(y(e(_))),()=>({failed:e(_).failed,converted:e(_).converted,selected:t.selectedKeyword&&t.selectedKeyword==e(_).id})]),n(Q,M)},et=Q=>{var M=Xa();let he;var qe=s(M,!0);i(M),B((Be,Re)=>{he=D(M,1,Be,"svelte-12fzojj",he,Re),$(qe,e(_).text)},[()=>it(y(e(_))),()=>({failed:e(_).failed,converted:e(_).converted,selected:t.selectedKeyword&&t.selectedKeyword==e(_).id})]),n(Q,M)};w(ve,Q=>{e(_).type===Y.Ingredient?Q(ye):Q(et,!1)},de)}};w(ce,ve=>{e(_).type===Y.Italic?ve(me):ve(q,!1)},_e)}};w(ae,ce=>{e(_).type===Y.Bold?ce(Te):ce($e,!1)},ne)}};w(We,ae=>{e(_).type===Y.Plain?ae(Ce):ae(je,!1)})}n(b,H)}),i(L);var x=l(L,2);{var T=b=>{var _=$a();_.__click=[Za,c,t];var H=s(_);yt(H),i(_),n(b,_)};w(x,b=>{z(e(c))&&b(T)})}i(j),Bt(j,(b,_)=>{var H;return(H=sa)==null?void 0:H(b,_)},()=>({enabled:t.isFocused,key:S(e(c))})),B(b=>{te=D(j,1,"relative selectable flex-row ph0",null,te,b),ta(F,o()[e(c).id])},[()=>({selected:S(e(c))})]),n(h,j)}),i(W),ct(W,h=>G=h,()=>G),i(P),B(()=>D(P,1,it(t.section.rows.length&&!t.isFocused?"card has-list pt0":""))),n(a,P),ut()}Tt(["click","change"]);var rr=d('<div class="spacer svelte-1rjut5w"></div> <div class="focus-pane svelte-1rjut5w"><div class="focus-pane-scroller svelte-1rjut5w"><div class="focus-pane-content"><!></div></div></div>',1);function ir(a,t){vt(t,!0);const o=500;let y=N(void 0),S=N(void 0),z=N("0");dt(()=>{if(t.id!=null&&e(y)&&e(S)){let C=e(S).clientHeight+20;p(z,`min(30vh, ${C}px)`)}});var G=rr(),P=l(be(G),2);let le;var J=s(P),u=s(J),xe=s(u);aa(xe,()=>t.content),i(u),ct(u,C=>p(S,C),()=>e(S)),i(J),Bt(J,(C,ee)=>{var W;return(W=na)==null?void 0:W(C)},()=>({key:t.id})),i(P),ct(P,C=>p(y,C),()=>e(y)),B(()=>le=Ka(P,"",le,{height:e(z)})),It(1,P,()=>St,()=>({y:"100%",duration:o})),It(2,P,()=>St,()=>({y:"100%",duration:o})),n(a,G),ut()}const Ct={keep_screen_awake:!0,show_colors:!0};function zt(){try{let a=localStorage.getItem(Kt.PREFERENCES);if(a)return{...Ct,...JSON.parse(a)}}catch(a){console.error(a)}return{...Ct}}function Mt(a){localStorage.setItem(Kt.PREFERENCES,JSON.stringify({...zt(),...a}))}function jt(a){return zt()[a]}let Je=null;const st=async()=>{document.visibilityState==="visible"&&setTimeout(async()=>await Ot(),1e3)},lt=async(a,t=!0)=>{if(navigator.wakeLock){if(a)await Ot(),document.removeEventListener("visibilitychange",st),document.addEventListener("visibilitychange",st);else{console.info("Disabling wake lock");let o=Je;Je=null,o&&o.release(),document.removeEventListener("visibilitychange",st)}t&&Mt({keep_screen_awake:a})}},Ot=async()=>{try{if(Je)try{console.info("Releasing old wake lock"),await Je.release()}catch{}Je=await navigator.wakeLock.request("screen"),console.info("Wake Lock is active")}catch(a){console.error(a)}};var or=Xt(`<svg fill="white" height="16px" width="16px" style="min-width: 16px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512.005 512.005" xml:space="preserve"><g><g><path d="M388.418,240.923L153.751,6.256c-8.341-8.341-21.824-8.341-30.165,0s-8.341,21.824,0,30.165L343.17,256.005
			L123.586,475.589c-8.341,8.341-8.341,21.824,0,30.165c4.16,4.16,9.621,6.251,15.083,6.251c5.461,0,10.923-2.091,15.083-6.251
			l234.667-234.667C396.759,262.747,396.759,249.264,388.418,240.923z"></path></g></g></svg>`);function sr(a){var t=or();n(a,t)}var lr=d("<input>"),nr=(a,t)=>Nt("/my-recipes",{page_data:{is_going_back:!0,previously_selected_recipe:e(t)}}),cr=d('<button class="shrink white-text flex-row vertically-centered p0 gap0_5" title="Go back" aria-label="Go back"><h1> </h1></button>'),_r=(a,t)=>{p(t,"")},vr=(a,t)=>{t()},dr=d('<button class="shrink pl1"><!></button> <button class="shrink pl1"><!></button>',1),ur=(a,t,o)=>{var y;p(t,((y=e(o))==null?void 0:y.title)||"",!0)},fr=d('<button class="shrink pl1" title="Edit" aria-label="Edit"><!></button>'),gr=d('<div class="flex-row vertically-centered grow svelte-wd4g5o"><div class="grow flex-col"><!></div> <!></div>'),pr=async(a,t,o)=>{e(t)?(_t("Reloading..."),await o(!0)):_t("No url!","error")},br=async(a,t)=>{if(e(t)){let o=ua(e(t));await ma(o),_t("Copied markdown to clipboard :)")}},mr=async()=>{window.print()},hr=async(a,t,o)=>{p(t,e(o),!0)},kr=d('<button class="warning">Delete recipe</button>'),wr=d('<div class="flex-col svelte-wd4g5o"><a target="_blank">Open the original</a> <button>Get markdown</button> <button>Print</button> <a target="_blank">Report bug</a> <!> <!> <!></div>'),xr=d('<!> <!> <!> <!> <button title="Reload this recipe" aria-label="Reload this recipe" class="svelte-wd4g5o"><!></button> <!>',1),yr=d('<div class="card mt1"><h2>Loading...</h2></div>'),Rr=d('<div class="mla"><!></div>'),Er=(a,t,o)=>{t(o())},Ir=d('<button class="mla rounded green p0_5 vertically-centered gap0_5"><!> Remove from current list</button>'),Sr=(a,t,o)=>{t(o())},Fr=d('<button class="mla rounded green p0_5 vertically-centered gap0_5"><!> Add to current list</button>'),Lr=(a,t)=>t(.5),Ar=(a,t)=>t(1),Pr=(a,t)=>t(2),Cr=(a,t)=>t(we.IMPERIAL),jr=(a,t)=>t(we.ORIGINAL),Tr=(a,t)=>t(we.METRIC),qr=(a,t,o)=>{p(t,Ge(e(o)),!0)},Br=d('<div class="rounded black p0_5 green-text"> </div>'),Kr=d('<div class="shrink flex-row flex-end wrap gap0_5 bold"></div>'),Nr=d('<div class="flex-row gap1 space-between no-print"><!> <!></div> <div class="flex-col gap1 mb1 mt1 no-print"><div class="flex-row vertically-centered wrap rgap0_5"><!></div> <div class="flex-row gap1 mb1 mt1 wrap"><div class="flex-row gap1"><div class="flex-row"><button>0.5x</button> <button>1x</button> <button>2x</button></div></div> <div class="flex-row grow-children"><button>Imperial</button> <button>Original</button> <button>Metric</button></div></div> <div class="mla flex-col wrap vertically-centered shrink-children gap0_5"><button class="mla rounded blue p0_5 vertically-centered gap0_5"><!> Add tags</button> <!></div></div> <div class="recipe-columns flex-col gap1 svelte-wd4g5o"><div class="flex-col gap1 svelte-wd4g5o"></div> <div class="flex-col gap1 svelte-wd4g5o"><!> <!></div></div>',1),zr=d('<div class="card mt1"><h2>ERROR: No recipe :/</h2></div>'),Mr=d('<!> <main class="svelte-wd4g5o"><div class="flex-col gap2 svelte-wd4g5o"><!></div> <!> <!></main> <!> <!>',1);function hi(a,t){vt(t,!0);const[o,y]=oa(),S=()=>Xe(h,"$data",o),z=()=>Xe(wa,"$all_recipes",o),G=()=>Xe(xa,"$all_shopping_lists",o),P=()=>Xe(ka,"$last_list_id",o),le=r=>{J(r,()=>e(x),()=>!0)},J=(r,f=xt,v=xt)=>{ar(r,{get section(){return f()},get isFocused(){return v()},get selectedKeyword(){return e(F)},get checked_items(){return e(L)},onHighlightKeyword:g=>{g===e(F)?p(F,null):(p(F,g,!0),g&&_e(new Set([g])))},onFocusIngredients:_e,onFocusSection:g=>{var k;f().id===((k=e(x))==null?void 0:k.id)?p(x,null):p(x,f(),!0)},onCloseSection:()=>{p(x,null)}})};let u=N(null);wt(()=>{xe()}),Fa(()=>{xe()});function xe(){let r=ba();r!==e(u)&&p(u,r,!0)}let C=N(Qe(we.ORIGINAL)),ee=N(1),W=N(Qe(jt("show_colors")));const h=ea(null),c=V(()=>va(S(),e(W))),j=V(()=>e(u)?ga(e(u),z()):null),te=V(()=>e(u)?pa(e(u),z()):null);let F=N(null),L=N(Qe({})),x=N(null),T=N(null),b=N(null),_=N(!1),H=V(()=>fa(e(c),e(W),e(C),e(ee))),We=null;dt(()=>{e(u)!==We&&(We=e(u),(async()=>ae(!1))())});function Ce(r){r!==e(C)&&p(C,r,!0)}function je(r){Ze(r,e(ee))||p(ee,r,!0)}async function ae(r=!1){p(L,{},!0),p(_,!0),h.set(await _a(e(u),"",r)),p(_,!1),p(F,null),p(x,null)}function ne(){h&&h.update(r=>(r&&e(b)&&(r.title=e(b),Rt(Ge(r))),r)),p(b,null)}let Te=V(()=>{var r;return!!((r=G().find(f=>f.id===P()))!=null&&r.items.find(f=>f.recipe_url===e(u)))});function $e(r){let f=!1;for(let v of G())if(v.id===r){for(let g of v.items)g.recipe_url===e(u)&&(g.quantity+=1,f=!0);f||(f=!0,v.items.push({recipe_url:e(u),quantity:1})),Et(v);break}}function ce(r){for(let f of G())f.id===r&&(f.items=f.items.filter(v=>v.recipe_url!==e(u)),Et(f))}function _e(r){let f=[];for(let v of e(H).ingredients)for(let g of v.rows)g.fragments.find(k=>k.id&&r.has(k.id))&&f.push(Ge(g));p(x,{id:ha("section"),text:"Selected ingredients",level:3,rows:f},!0)}let me=N(Qe(jt("keep_screen_awake"))),q=N(null);wt(()=>((async()=>await lt(e(me),!1))(),async()=>{await lt(!1,!1)}));let ve=V(()=>`https://github.com/loremdipso/recipease/issues/new?title=${encodeURIComponent("Broken URL")}&body=${encodeURIComponent(`URL in question: ${e(u)}

Why it is bad: TODO`)}&labels=parsing`);var de=Mr(),ye=be(de);const et=V(()=>({previously_selected_recipe:e(u)}));ya(ye,{back_path:"/my-recipes",get page_data(){return e(et)},title_snippet:v=>{var g=gr(),k=s(g),re=s(k);{var ue=A=>{var R=lr();qt(R),Zt(R),$t("keypress",R,m=>{m.key==="Enter"&&(m.preventDefault(),m.stopPropagation(),ne())}),ia(R,()=>e(b),m=>p(b,m)),n(A,R)},ke=A=>{var R=cr();R.__click=[nr,u];var m=s(R),X=s(m,!0);i(m),i(R),B(()=>{var O;return $(X,(O=e(c))==null?void 0:O.title)}),n(A,R)};w(re,A=>{e(b)?A(ue):A(ke,!1)})}i(k);var Ke=l(k,2);{var fe=A=>{var R=dr(),m=be(R);m.__click=[_r,b];var X=s(m);At(X),i(m);var O=l(m,2);O.__click=[vr,ne];var ie=s(O);Pa(ie),i(O),B(()=>{Le(m,"title",e(b)?"Save":"Edit"),Le(m,"aria-label",e(b)?"Save":"Edit"),Le(O,"title",e(b)?"Save":"Edit"),Le(O,"aria-label",e(b)?"Save":"Edit")}),n(A,R)},Ne=A=>{var R=fr();R.__click=[ur,b,c];var m=s(R);Aa(m),i(R),n(A,R)};w(Ke,A=>{e(b)?A(fe):A(Ne,!1)})}i(g),n(v,g)},extra_buttons:v=>{var g=xr(),k=be(g);Ba(k,{go_back:!0});var re=l(k,2);Ta(re,{go_back:!1});var ue=l(re,2);ja(ue);var ke=l(ue,2);{var Ke=m=>{qa(m,{onshare:async()=>{const X=new URL(window.location.href);X.search="",e(u)&&X.searchParams.set("url",e(u)),await navigator.share({title:"Here's a recipe for ya!",url:X.toString()})}})};w(ke,m=>{e(c)&&m(Ke)})}var fe=l(ke,2);fe.__click=[pr,u,ae];var Ne=s(fe);Ca(Ne),i(fe);var A=l(fe,2);{var R=m=>{La(m,{items:O=>{var ie=wr(),Ee=s(ie);let Ie;var ze=l(Ee,2);ze.__click=[br,c];var Se=l(ze,2);Se.__click=[mr];var Fe=l(Se,2);let Me;var Oe=l(Fe,2);Ft(Oe,{text:"Enable colors",get checked(){return e(W)},onchange:K=>{p(W,K,!0),Mt({show_colors:K})}});var He=l(Oe,2);{var Ue=K=>{Ft(K,{text:"Keep screen on",get checked(){return e(me)},onchange:Z=>{p(me,Z,!0),lt(Z)}})};w(He,K=>{navigator.wakeLock&&K(Ue)})}var Ve=l(He,2);{var De=K=>{var Z=kr();Z.__click=[hr,T,u],n(K,Z)};w(Ve,K=>{e(c)&&K(De)})}i(ie),B((K,Z)=>{Le(Ee,"href",e(u)),Ie=D(Ee,1,"button-like",null,Ie,K),Le(Fe,"href",e(ve)),Me=D(Fe,1,"warning button-like",null,Me,Z)},[()=>({disabled:!e(u)}),()=>({disabled:!e(u)})]),n(O,ie)}})};w(A,m=>{e(c)&&m(R)})}n(v,g)},$$slots:{title_snippet:!0,extra_buttons:!0}});var Q=l(ye,2),M=s(Q),he=s(M);{var qe=r=>{var f=yr();n(r,f)},Be=(r,f)=>{{var v=k=>{var re=Nr(),ue=be(re),ke=s(ue);{var Ke=E=>{const I=V(()=>({url:e(j).url}));Lt(E,{url:"/my-recipes/recipe",get query_params(){return e(I)},go_back:!0,text:"Previous recipe",icon_prefix:oe=>{Ra(oe)},$$slots:{icon_prefix:!0}})};w(ke,E=>{e(j)&&E(Ke)})}var fe=l(ke,2);{var Ne=E=>{var I=Rr(),ge=s(I);const oe=V(()=>({url:e(te).url}));Lt(ge,{url:"/my-recipes/recipe",get query_params(){return e(oe)},text:"Next recipe",icon_postfix:U=>{sr(U)},$$slots:{icon_postfix:!0}}),i(I),n(E,I)};w(fe,E=>{e(te)&&E(Ne)})}i(ue);var A=l(ue,2),R=s(A),m=s(R);{var X=E=>{var I=nt(),ge=be(I);{var oe=U=>{var se=Ir();se.__click=[Er,ce,P];var at=s(se);At(at),rt(),i(se),n(U,se)},pe=U=>{var se=Fr();se.__click=[Sr,$e,P];var at=s(se);Pt(at),rt(),i(se),n(U,se)};w(ge,U=>{e(Te)?U(oe):U(pe,!1)})}n(E,I)};w(m,E=>{P()!==null&&E(X)})}i(R);var O=l(R,2),ie=s(O),Ee=s(ie),Ie=s(Ee);let ze;Ie.__click=[Lr,je];var Se=l(Ie,2);let Fe;Se.__click=[Ar,je];var Me=l(Se,2);let Oe;Me.__click=[Pr,je],i(Ee),i(ie);var He=l(ie,2),Ue=s(He);let Ve;Ue.__click=[Cr,Ce];var De=l(Ue,2);let K;De.__click=[jr,Ce];var Z=l(De,2);let gt;Z.__click=[Tr,Ce],i(He),i(O);var pt=l(O,2),Ye=s(pt);Ye.__click=[qr,q,c];var Wt=s(Ye);Pt(Wt),rt(),i(Ye);var Vt=l(Ye,2);{var Yt=E=>{var I=Kr();Ae(I,21,()=>e(c).tags||[],Pe,(ge,oe)=>{var pe=Br(),U=s(pe,!0);i(pe),B(()=>$(U,e(oe))),n(ge,pe)}),i(I),n(E,I)};w(Vt,E=>{var I;(I=e(c).tags)!=null&&I.length&&E(Yt)})}i(pt),i(A);var bt=l(A,2),tt=s(bt);Ae(tt,21,()=>e(H).ingredients,Pe,(E,I)=>{J(E,()=>e(I),()=>!1)}),i(tt);var mt=l(tt,2),ht=s(mt);Ae(ht,17,()=>e(H).instructions,Pe,(E,I)=>{J(E,()=>e(I),()=>!1)});var Qt=l(ht,2);Ae(Qt,17,()=>e(H).notes,Pe,(E,I)=>{J(E,()=>e(I),()=>!1)}),i(mt),i(bt),B((E,I,ge,oe,pe,U)=>{ze=D(Ie,1,"choice-button svelte-wd4g5o",null,ze,E),Fe=D(Se,1,"choice-button svelte-wd4g5o",null,Fe,I),Oe=D(Me,1,"choice-button svelte-wd4g5o",null,Oe,ge),Ve=D(Ue,1,"choice-button svelte-wd4g5o",null,Ve,oe),K=D(De,1,"choice-button svelte-wd4g5o",null,K,pe),gt=D(Z,1,"choice-button svelte-wd4g5o",null,gt,U)},[()=>({selected:Ze(e(ee),.5)}),()=>({selected:Ze(e(ee),1)}),()=>({selected:Ze(e(ee),2)}),()=>({selected:e(C)==we.IMPERIAL}),()=>({selected:e(C)==we.ORIGINAL}),()=>({selected:e(C)==we.METRIC})]),n(k,re)},g=k=>{var re=zr();n(k,re)};w(r,k=>{e(c)?k(v):k(g,!1)},f)}};w(he,r=>{e(_)?r(qe):r(Be,!1)})}i(M);var Re=l(M,2);{var Ht=r=>{Ia(r,{text:"Are you sure?",accept:async()=>{e(T)&&(await da(e(T)),p(T,null),Nt("/my-recipes",{page_data:{is_going_back:!0}}))},cancel:()=>{p(T,null)}})};w(Re,r=>{e(T)&&r(Ht)})}var Ut=l(Re,2);{var Dt=r=>{const f=V(()=>{var v;return(v=e(x))==null?void 0:v.id});ir(r,{content:le,get id(){return e(f)}})};w(Ut,r=>{e(x)&&r(Dt)})}i(Q);var ft=l(Q,2);Ea(ft,{});var Gt=l(ft,2);{var Jt=r=>{const f=V(()=>{var v;return((v=e(q))==null?void 0:v.tags)||[]});Sa(r,{get tags(){return e(f)},onclose:()=>{var g;let v=(g=Ge(e(q)))==null?void 0:g.tags;h.update(k=>(k&&(k.tags=v,Rt(Ge(k))),k)),p(q,null)},onaddtag:v=>{e(q)&&v&&(e(q).tags?e(q).tags.some(g=>g===v)||(e(q).tags.push(v),e(q).tags.sort()):e(q).tags=[v])},ondeletetag:v=>{var g;(g=e(q))!=null&&g.tags&&(e(q).tags=e(q).tags.filter(k=>k!==v))}})};w(Gt,r=>{e(q)&&r(Jt)})}n(a,de),ut(),y()}Tt(["click"]);export{hi as component};
