import{d as ra,t as p,a as _,s as z,b as M}from"../chunks/CfNwE0Bq.js";import{p as ea,z as j,A as q,f as E,a as sa,s as c,c as o,t as G,i as a,B as h,r as e,C as oa}from"../chunks/awlFoezV.js";import{i as y}from"../chunks/CCHAIv3B.js";import{e as H,i as ia}from"../chunks/CIRKoOug.js";import{s as la}from"../chunks/D5kfon9i.js";import{s as va}from"../chunks/B2xZ0dDQ.js";import{t as _a,s as na}from"../chunks/DSIY89X_.js";import{p as da}from"../chunks/CFUG3h_0.js";import{g as ca,a as pa,d as ua,u as I}from"../chunks/CHYVl0uZ.js";import{R as fa,S as ma,a as ga}from"../chunks/BtNvt8Hw.js";import{T as xa}from"../chunks/CaE9AZHH.js";import{A as ba}from"../chunks/Dov9PXp6.js";import{C as ha}from"../chunks/DCbardW4.js";import{S as ka}from"../chunks/DIPGq68L.js";import{P as ya}from"../chunks/Cmp80fGH.js";import{T as wa}from"../chunks/DecYnNM9.js";var Sa=p("<!> <!>",1),Pa=(n,d)=>{n.stopPropagation(),n.preventDefault(),a(d).starred=!1,I(a(d))},Aa=p("<button><!></button>"),Da=(n,d)=>{n.stopPropagation(),n.preventDefault(),a(d).starred=!0,I(a(d))},Ra=p("<button><!></button>"),Ta=(n,d,k)=>{n.stopPropagation(),h(d,a(k).url,!0)},Ba=p('<div class="rounded"> </div>'),Ca=p('<div class="flex-row flex-end green-text wrap gap2"></div>'),Fa=p('<div><a class="flex-col grow"><div class="flex-row vertically-centered gap0_5"><div class="shrink"><!></div> <span class="grow"> </span> <button class="shrink" title="Delete" aria-label="Delete"><!></button></div> <!></a></div>'),La=p('<div class="recipe-row"><!></div>'),Na=p('<!> <main class="flex-col gap1"><div class="full-width flex-col"><div class="card has-list gap1 flex-col pt0"><div class="rounded-bottom black p0_5"><!></div> <div class="list"></div></div></div></main> <!> <!>',1);function Ya(n,d){ea(d,!0);let k=j(ca().reverse()),g=q(j([])),f=q(null);const J=oa(()=>{var s;return(s=da.state)==null?void 0:s.previously_selected_recipe});var T=Na(),B=E(T);wa(B,{title:"My Saved Recipes",back_path:"/",extra_buttons:r=>{var x=Sa(),l=E(x);ha(l,{});var m=c(l,2);ka(m,{}),_(r,x)},$$slots:{extra_buttons:!0}});var w=c(B,2),C=o(w),F=o(C),S=o(F),K=o(S);fa(K,{get all_recipes(){return k},get recipes(){return a(g)},set recipes(s){h(g,s,!0)}}),e(S);var L=c(S,2);H(L,21,()=>a(g),s=>s.url,(s,r,x)=>{var l=Fa();let m;var v=o(l),u=o(v),P=o(u),U=o(P);{var V=i=>{var t=Aa();t.__click=[Pa,r];var b=o(t);ma(b),e(t),_(i,t)},W=i=>{var t=Ra();t.__click=[Da,r];var b=o(t);ga(b),e(t),_(i,t)};y(U,i=>{a(r).starred?i(V):i(W,!1)})}e(P);var A=c(P,2),X=o(A,!0);e(A);var D=c(A,2);D.__click=[Ta,f,r];var Y=o(D);xa(Y),e(D),e(u);var Z=c(u,2);{var $=i=>{var t=Ca();H(t,21,()=>a(r).tags,ia,(b,aa)=>{var R=Ba(),ta=o(R,!0);e(R),G(()=>z(ta,a(aa))),_(b,R)}),e(t),_(i,t)};y(Z,i=>{var t;(t=a(r).tags)!=null&&t.length&&i($)})}e(v),e(l),G((i,t)=>{m=va(l,1,"flex-col",null,m,i),la(v,"href",t),z(X,a(r).title||"<missing title>")},[()=>({selected:a(r).url&&a(r).url===a(J)}),()=>pa("/my-recipes/recipe",{url:a(r).url})]),_a(3,l,()=>na),_(s,l)},s=>{var r=La(),x=o(r);{var l=v=>{var u=M("No recipes match current filters");_(v,u)},m=v=>{var u=M("No recipes yet");_(v,u)};y(x,v=>{k.length?v(l):v(m,!1)})}e(r),_(s,r)}),e(L),e(F),e(C),e(w);var N=c(w,2);ba(N,{});var O=c(N,2);{var Q=s=>{ya(s,{text:"Are you sure?",accept:()=>{a(f)&&(h(g,ua(a(g),a(f)),!0),h(f,null))},cancel:()=>{h(f,null)}})};y(O,s=>{a(f)&&s(Q)})}_(n,T),sa()}ra(["click"]);export{Ya as component};
