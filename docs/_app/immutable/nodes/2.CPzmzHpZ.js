import{n as tt,a as d,d as at,t as m,e as et,s as A}from"../chunks/CYIjoMr1.js";import{ay as rt,az as ot,aw as it,K as st,O as K,R as nt,$ as _t,_ as lt,X as vt,aj as ct,p as pt,f as q,a as dt,c as g,s as p,r as f,i as a,o as O,l as ut,t as C,am as H,n as j}from"../chunks/DdW1EsoA.js";import{i as S}from"../chunks/xsFzECmQ.js";import{e as ft,i as mt}from"../chunks/DWk5ghVn.js";import{a as gt,r as bt,s as P}from"../chunks/BhOZLbEh.js";import{s as ht}from"../chunks/B7XJn2s4.js";import{t as U,f as V}from"../chunks/DQ6ywEsN.js";import{b as kt}from"../chunks/Cg7dEFf2.js";import{s as xt,a as Lt,b as wt}from"../chunks/CkSXy_xo.js";import{p as yt}from"../chunks/MMozI1JW.js";import{e as J,j as X,f as Et}from"../chunks/BfBYdUds.js";import"../chunks/mJewewNG.js";import{M as St}from"../chunks/D3fA0VwG.js";import{P as F}from"../chunks/GWXM1Sqk.js";import{S as $t}from"../chunks/C19GrMxj.js";import{T as It}from"../chunks/AmogBFoe.js";import{H as Mt}from"../chunks/u4aGkRaH.js";import{R as Tt}from"../chunks/DCYLYZPZ.js";import{S as qt}from"../chunks/Bu6BXeXL.js";import{H as Bt}from"../chunks/BxaRdmnM.js";import{T as Ht}from"../chunks/DthNnMJE.js";function Pt(b,o,w){K&&nt();var $=b,I=ct,M,T=rt()?ot:it;st(()=>{T(I,I=o())&&(M&&_t(M),M=lt(()=>w($)))}),K&&($=vt)}var jt=tt('<svg width="16px" height="16px" style="min-width: 16px" viewBox="0 0 512 512"><title>export</title><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g fill="white" transform="translate(64.000000, 48.915055)"><path d="M170.666667,36.418278 L170.666667,79.0849447 L42.6666667,79.0849447 L42.6666667,356.418278 L341.333333,356.418278 L341.333333,228.418278 L384,228.418278 L384,399.084945 L0,399.084945 L0,36.418278 L170.666667,36.418278 Z M313.751611,0 L414.169889,100.418278 L313.751611,200.836556 L283.581722,170.666667 L332.485,121.751 L277.333333,121.751611 C243.249474,121.751611 215.388568,148.395237 213.441977,181.991125 L213.333333,185.751611 L213.333333,292.418278 L170.666667,292.418278 L170.666667,185.751611 C170.666667,128.391511 215.942543,81.6061582 272.706355,79.1834943 L277.333333,79.0849447 L332.484,79.084 L283.581722,30.1698893 L313.751611,0 Z"></path></g></g></svg>');function Rt(b){var o=jt();d(b,o)}var Zt=(b,o,w,$)=>{J(o(),{page_data:{is_going_back:w()<a($),skip_page_animation:!0},query_params:{id:Et("id")}})},Ct=m("<button><!> <!> <!> </button>"),Dt=(b,o)=>{j(o,"")},Gt=(b,o)=>{o()},Nt=m('<input class="grow"> <button class="shrink pl1"><!></button> <button class="shrink pl1"><!></button>',1),zt=()=>J("/shopping-lists",{page_data:{is_going_back:!0}}),At=(b,o,w)=>{j(o,w(),!0)},Kt=m('<button class="shrink pl1" title="Edit" aria-label="Edit"><!></button>'),Ot=m('<button class="shrink white-text flex-row vertically-centered p0 gap0_5" title="Go back" aria-label="Go back"><h1> </h1></button> <!>',1),Ut=m('<div class="flex-row vertically-centered grow"><!></div>'),Vt=async()=>{window.print()},Xt=m('<div class="flex-col"><button>Print</button></div>'),Ft=m("<!> <!> <!> <!>",1),Jt=m('<hr class="grow grey-text">'),Qt=m("<!> <!>",1),Wt=m("<div><!></div>"),Yt=m('<!> <main class="relative"><div class="no-print flex-row vertically-centered pb1 grow-children"></div> <!></main>',1);function xa(b,o){pt(o,!0);const[w,$]=xt(),I=()=>Lt(X,"$current_list_name",w),M=(x,v=H,i=H,s=H,h=H)=>{var n=Ct();let k;n.__click=[Zt,i,h,Q];var r=g(n);{var u=t=>{F(t)};S(r,t=>{s()==="edit"&&t(u)})}var e=p(r,2);{var c=t=>{St(t)};S(e,t=>{s()==="view"&&t(c)})}var L=p(e,2);{var _=t=>{Rt(t)};S(L,t=>{s()==="export"&&t(_)})}var E=p(L);f(n),C(t=>{k=ht(n,1,"blue rounded p0_5 bold with-fade icon-button justify-center animate__animated svelte-1gmigff",null,k,t),n.disabled=a(y)===i(),A(E,` ${v()??""}`)},[()=>({animate__pulse:a(y)===i(),selected:a(y)===i()})]),d(x,n)},T=[{text:"Edit",url:"/shopping-lists/list/edit",icon:"edit"},{text:"View",url:"/shopping-lists/list/view",icon:"view"},{text:"Export",url:"/shopping-lists/list/export",icon:"export"}],y=O(()=>yt.route.id),Q=O(()=>T.findIndex(x=>x.url===a(y))),R=100;let l=ut(null);function D(){a(l)&&wt(X,a(l)),j(l,null)}var G=Yt(),N=q(G);Ht(N,{back_path:"/shopping-lists",title_snippet:i=>{var s=Ut(),h=g(s);{var n=r=>{var u=Nt(),e=q(u);bt(e);var c=p(e,2);c.__click=[Dt,l];var L=g(c);It(L),f(c);var _=p(c,2);_.__click=[Gt,D];var E=g(_);$t(E),f(_),C(()=>{P(c,"title",a(l)?"Save":"Edit"),P(c,"aria-label",a(l)?"Save":"Edit"),P(_,"title",a(l)?"Save":"Edit"),P(_,"aria-label",a(l)?"Save":"Edit")}),et("keypress",e,t=>{t.key==="Enter"&&(t.preventDefault(),t.stopPropagation(),D())}),kt(e,()=>a(l),t=>j(l,t)),d(r,u)},k=r=>{var u=Ot(),e=q(u);e.__click=[zt];var c=g(e),L=g(c,!0);f(c),f(e);var _=p(e,2);{var E=t=>{var B=Kt();B.__click=[At,l,I];var Y=g(B);F(Y),f(B),d(t,B)};S(_,t=>{a(y)==="/shopping-lists/list/edit"&&t(E)})}C(()=>A(L,I())),d(r,u)};S(h,r=>{a(l)?r(n):r(k,!1)})}f(s),d(i,s)},extra_buttons:i=>{var s=Ft(),h=q(s);qt(h,{go_back:!0});var n=p(h,2);Tt(n,{});var k=p(n,2);Mt(k);var r=p(k,2);{var u=e=>{Bt(e,{items:L=>{var _=Xt(),E=g(_);E.__click=[Vt],f(_),d(L,_)}})};S(r,e=>{a(y)==="/shopping-lists/list/view"&&e(u)})}d(i,s)},$$slots:{title_snippet:!0,extra_buttons:!0}});var z=p(N,2),Z=g(z);ft(Z,21,()=>T,mt,(x,v,i)=>{var s=Qt(),h=q(s);M(h,()=>a(v).text,()=>a(v).url,()=>a(v).icon,()=>i);var n=p(h,2);{var k=r=>{var u=Jt();d(r,u)};S(n,r=>{i<T.length-1&&r(k)})}d(x,s)}),f(Z);var W=p(Z,2);Pt(W,()=>a(y),x=>{var v=Wt(),i=g(v);gt(i,()=>o.children),f(v),U(1,v,()=>V,()=>({duration:R,delay:R})),U(2,v,()=>V,()=>({duration:R})),d(x,v)}),f(z),d(b,G),dt(),$()}at(["click"]);export{xa as component};
