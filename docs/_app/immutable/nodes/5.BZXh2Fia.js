import{d as Bt,t as _,c as Qe,a as n,s as ne,n as ea,i as ta,e as wt}from"../chunks/CfNwE0Bq.js";import{q as kt,p as _t,d as vt,c as i,s,r as o,i as e,f as he,t as U,a as ut,A as H,B as u,as as xt,z as Fe,aJ as aa,C as ee,ao as yt,G as Je}from"../chunks/awlFoezV.js";import{s as ra}from"../chunks/BBaQ3y4Z.js";import{i as b}from"../chunks/CCHAIv3B.js";import{e as Se,i as Ie}from"../chunks/CIRKoOug.js";import{r as lt,b as oa,a as ia,s as Pe}from"../chunks/D5kfon9i.js";import{t as sa,s as te,c as Rt}from"../chunks/B2xZ0dDQ.js";import{b as Et,O as la}from"../chunks/J7rGuDky.js";import{s as na,a as St}from"../chunks/BCsxFzkL.js";import{a as Ot,b as ca,C as _a,s as va}from"../chunks/BsMhJE4K.js";import{b as nt}from"../chunks/OaryR642.js";import{p as ua}from"../chunks/CaOXio9W.js";import{M as It}from"../chunks/CqqWtxbX.js";import{F as le,K as Kt,U as Le,g as Lt,b as da,n as ct,I as fa,J as ga,x as pa,h as Mt,d as ba,u as at,M as ma,N as ha,P as wa,Q as ze,R as ka,S as xa,l as ya,T as Ct}from"../chunks/DWV5_EAU.js";import{t as Ft,a as Pt}from"../chunks/DSIY89X_.js";import{S as At}from"../chunks/BqwEPHyb.js";import{T as Ra,L as Tt,A as Ea}from"../chunks/JrNJC_dX.js";import{A as Sa}from"../chunks/DPosoDiN.js";import{P as Ia}from"../chunks/Cmp80fGH.js";import{a as La}from"../chunks/5VhQ5rEv.js";import{H as Ca}from"../chunks/BN32lf4J.js";import{P as Fa}from"../chunks/CAVideX8.js";import{S as Pa}from"../chunks/D2ZDVfRA.js";import{R as Aa}from"../chunks/BqyqdJ53.js";import{T as rt}from"../chunks/CaE9AZHH.js";import{H as Ta}from"../chunks/BOziBHUS.js";import{C as qa}from"../chunks/ByFDB8-8.js";import{S as Na}from"../chunks/D0jdan1G.js";import{R as Ba}from"../chunks/Bl7LRlds.js";import{P as We}from"../chunks/O-DgXc8G.js";import"../chunks/Bv02EmYY.js";function ot(a,t={},l,x){for(var w in l){var T=l[w];t[w]!==T&&(l[w]==null?a.style.removeProperty(w):a.style.setProperty(w,T,x))}}function Oa(a,t,l,x){var w=a.__style;if(kt||w!==t){var T=sa(t,x);(!kt||T!==a.getAttribute("style"))&&(T==null?a.removeAttribute("style"):a.style.cssText=T),a.__style=t}else x&&(Array.isArray(x)?(ot(a,l==null?void 0:l[0],x[0]),ot(a,l==null?void 0:l[1],x[1],"important")):ot(a,l,x));return x}var Ka=_("<h2> </h2>"),Ma=_("<h3> </h3>"),Ha=_("<h4> </h4>"),Ua=(a,t)=>t.onCloseSection(),Da=_('<button class="shrink no-print p1" title="Close" aria-label="Close"><!></button>'),Ga=(a,t)=>t.onFocusSection(t.section),ja=_('<button class="shrink no-print p1" title="Focus" aria-label="Focus"><!></button>'),Ja=(a,t,l)=>{t()[e(l).id]=a.target.checked},za=_("<span> </span>"),Wa=_("<b> </b>"),Qa=_("<b> </b>"),Va=(a,t,l)=>{e(t).id!=null&&e(t).type===le.Ingredient&&(a.preventDefault(),l.onHighlightKeyword(e(t).id))},Ya=_("<button> </button>"),Xa=(a,t,l)=>{let x=new Set;for(let w of e(t).fragments)w.id!=null&&w.type===le.Ingredient&&x.add(w.id);l.onFocusIngredients(x)},Za=_('<button class="top-left-floater svelte-q5pwu7" title="Focus ingredients" aria-label="Focus ingredients"><!></button>'),$a=_('<label><input class="shrink" type="checkbox"> <div class="grow ph0_5 lh2"></div> <!></label>'),er=_('<div><header class="flex-row vertically-centered gap1"><!> <!></header> <div class="list"></div></div>');function tr(a,t){_t(t,!0);let l=ua(t,"checked_items",7);function x(k){switch(k.type){case le.Ingredient:return"ingredient";case le.Temperature:return"temperature";case le.Percentage:return"percentage";case le.Amount:return"amount";default:return""}}function w(k){return!!(t.selectedKeyword&&k.fragments.find(y=>y.id==t.selectedKeyword))}function T(k){if(!t.isFocused&&t.section.text!=="Ingredients"){let y=0;for(let N of k.fragments)N.type===le.Ingredient&&(y+=1);if(y>=3)return!0}return!1}let ce;vt(()=>{ce&&t.isFocused&&t.section&&ce.scrollIntoView()});var q=er(),d=i(q),_e=i(d);{var z=k=>{var y=Ka(),N=i(y,!0);o(y),U(()=>ne(N,t.section.text)),n(k,y)},ae=(k,y)=>{{var N=C=>{var F=Ma(),m=i(F,!0);o(F),U(()=>ne(m,t.section.text)),n(C,F)},ue=(C,F)=>{{var m=B=>{var g=Ha(),h=i(g,!0);o(g),U(()=>ne(h,t.section.text)),n(B,g)};b(C,B=>{t.section.level===4&&B(m)},F)}};b(k,C=>{t.section.level===3?C(N):C(ue,!1)},y)}};b(_e,k=>{t.section.level===2?k(z):k(ae,!1)})}var j=s(_e,2);{var ve=k=>{var y=Qe(),N=he(y);{var ue=F=>{var m=Da();m.__click=[Ua,t];var B=i(m);_a(B),o(m),n(F,m)},C=F=>{var m=ja();m.__click=[Ga,t];var B=i(m);It(B),o(m),n(F,m)};b(N,F=>{t.isFocused?F(ue):F(C,!1)})}n(k,y)};b(j,k=>{t.section.rows.length&&k(ve)})}o(d);var D=s(d,2);Se(D,21,()=>t.section.rows,Ie,(k,y)=>{var N=$a();let ue;var C=i(N);lt(C),C.__change=[Ja,l,y];var F=s(C,2);Se(F,21,()=>e(y).fragments,Ie,(g,h)=>{var W=Qe(),He=he(W);{var Ae=de=>{var we=za(),fe=i(we,!0);o(we),U(()=>ne(fe,e(h).text)),n(de,we)},Te=(de,we)=>{{var fe=ke=>{var xe=Wa(),qe=i(xe,!0);o(xe),U(()=>ne(qe,e(h).text)),n(ke,xe)},Ve=(ke,xe)=>{{var qe=Q=>{var J=Qa(),ye=i(J,!0);o(J),U(()=>ne(ye,e(h).text)),n(Q,J)},Ne=Q=>{var J=Ya();let ye;J.__click=[Va,h,t];var Ue=i(J,!0);o(J),U((Ye,De)=>{ye=te(J,1,Ye,"svelte-q5pwu7",ye,De),ne(Ue,e(h).text)},[()=>Rt(x(e(h))),()=>({failed:e(h).failed,converted:e(h).converted,selected:t.selectedKeyword&&t.selectedKeyword==e(h).id})]),n(Q,J)};b(ke,Q=>{e(h).type===le.Italic?Q(qe):Q(Ne,!1)},xe)}};b(de,ke=>{e(h).type===le.Bold?ke(fe):ke(Ve,!1)},we)}};b(He,de=>{e(h).type===le.Plain?de(Ae):de(Te,!1)})}n(g,W)}),o(F);var m=s(F,2);{var B=g=>{var h=Za();h.__click=[Xa,y,t];var W=i(h);It(W),o(h),n(g,h)};b(m,g=>{T(e(y))&&g(B)})}o(N),Ot(N,(g,h)=>{var W;return(W=ca)==null?void 0:W(g,h)},()=>({enabled:t.isFocused,key:w(e(y))})),U(g=>{ue=te(N,1,"relative selectable flex-row ph0",null,ue,g),oa(C,l()[e(y).id])},[()=>({selected:w(e(y))})]),n(k,N)}),o(D),nt(D,k=>ce=k,()=>ce),o(q),U(()=>te(q,1,Rt(t.section.rows.length&&!t.isFocused?"card has-list pt0":""))),n(a,q),ut()}Bt(["click","change"]);var ar=_('<div class="spacer svelte-1rjut5w"></div> <div class="focus-pane svelte-1rjut5w"><div class="focus-pane-scroller svelte-1rjut5w"><div class="focus-pane-content"><!></div></div></div>',1);function rr(a,t){_t(t,!0);const l=500;let x=H(void 0),w=H(void 0),T=H("0");vt(()=>{if(t.id!=null&&e(x)&&e(w)){let j=e(w).clientHeight+20;u(T,`min(30vh, ${j}px)`)}});var ce=ar(),q=s(he(ce),2);let d;var _e=i(q),z=i(_e),ae=i(z);ia(ae,()=>t.content),o(z),nt(z,j=>u(w,j),()=>e(w)),o(_e),Ot(_e,(j,ve)=>{var D;return(D=va)==null?void 0:D(j)},()=>({key:t.id})),o(q),nt(q,j=>u(x,j),()=>e(x)),U(()=>d=Oa(q,"",d,{height:e(T)})),Ft(1,q,()=>Pt,()=>({y:"100%",duration:l})),Ft(2,q,()=>Pt,()=>({y:"100%",duration:l})),n(a,ce),ut()}const qt={keep_screen_awake:!0,show_colors:!0};function Ht(){try{let a=localStorage.getItem(Kt.PREFERENCES);if(a)return{...qt,...JSON.parse(a)}}catch(a){console.error(a)}return{...qt}}function Ut(a){localStorage.setItem(Kt.PREFERENCES,JSON.stringify({...Ht(),...a}))}function Nt(a){return Ht()[a]}let Me=null;const it=async()=>{document.visibilityState==="visible"&&setTimeout(async()=>await Dt(),1e3)},st=async(a,t=!0)=>{if(navigator.wakeLock){if(a)await Dt(),document.removeEventListener("visibilitychange",it),document.addEventListener("visibilitychange",it);else{console.info("Disabling wake lock");let l=Me;Me=null,l&&l.release(),document.removeEventListener("visibilitychange",it)}t&&Ut({keep_screen_awake:a})}},Dt=async()=>{try{if(Me)try{console.info("Releasing old wake lock"),await Me.release()}catch{}Me=await navigator.wakeLock.request("screen"),console.info("Wake Lock is active")}catch(a){console.error(a)}};var or=ea(`<svg fill="white" height="16px" width="16px" style="min-width: 16px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512.005 512.005" xml:space="preserve"><g><g><path d="M388.418,240.923L153.751,6.256c-8.341-8.341-21.824-8.341-30.165,0s-8.341,21.824,0,30.165L343.17,256.005
			L123.586,475.589c-8.341,8.341-8.341,21.824,0,30.165c4.16,4.16,9.621,6.251,15.083,6.251c5.461,0,10.923-2.091,15.083-6.251
			l234.667-234.667C396.759,262.747,396.759,249.264,388.418,240.923z"></path></g></g></svg>`);function ir(a){var t=or();n(a,t)}var sr=_("<input>"),lr=(a,t)=>Mt("/my-recipes",{page_data:{is_going_back:!0,previously_selected_recipe:e(t)}}),nr=_('<button class="shrink white-text flex-row vertically-centered p0 gap0_5" title="Go back" aria-label="Go back"><h1> </h1></button>'),cr=(a,t)=>{u(t,"")},_r=(a,t)=>{t()},vr=_('<button class="shrink pl1"><!></button> <button class="shrink pl1"><!></button>',1),ur=(a,t,l)=>{var x;u(t,((x=e(l))==null?void 0:x.title)||"",!0)},dr=_('<button class="shrink pl1" title="Edit" aria-label="Edit"><!></button>'),fr=_('<div class="flex-row vertically-centered grow svelte-wd4g5o"><div class="grow flex-col"><!></div> <!></div>'),gr=async(a,t,l)=>{e(t)?(ct("Reloading..."),await l(!0)):ct("No url!","error")},pr=async(a,t)=>{if(e(t)){let l=ma(e(t));await navigator.clipboard.writeText(l),ct("Copied markdown to clipboard :)")}},br=async()=>{window.print()},mr=async(a,t,l)=>{u(t,e(l),!0)},hr=_('<button class="warning">Delete recipe</button>'),wr=_('<div class="flex-col svelte-wd4g5o"><a target="_blank">Open the original</a> <button>Get markdown</button> <button>Print</button> <a target="_blank">Report bug</a> <!> <!> <!></div>'),kr=_('<!> <!> <!> <!> <button title="Reload this recipe" aria-label="Reload this recipe" class="svelte-wd4g5o"><!></button> <!>',1),xr=_('<div class="card mt1"><h2>Loading...</h2></div>'),yr=_('<div class="mla"><!></div>'),Rr=(a,t,l)=>{t(l())},Er=_('<button class="mla rounded green p0_5 vertically-centered gap0_5"><!> Remove from current list</button>'),Sr=(a,t,l)=>{t(l())},Ir=_('<button class="mla rounded green p0_5 vertically-centered gap0_5"><!> Add to current list</button>'),Lr=(a,t)=>t(.5),Cr=(a,t)=>t(1),Fr=(a,t)=>t(2),Pr=(a,t)=>t(Le.IMPERIAL),Ar=(a,t)=>t(Le.ORIGINAL),Tr=(a,t)=>t(Le.METRIC),qr=(a,t)=>{u(t,!0)},Nr=_('<div class="flex-row gap1 space-between no-print"><!> <!></div> <div class="flex-col gap1 mb1 mt1 no-print"><div class="flex-row vertically-centered wrap rgap0_5"><!></div> <div class="flex-row gap1 mb1 mt1 wrap"><div class="flex-row gap1"><div class="flex-row"><button>0.5x</button> <button>1x</button> <button>2x</button></div></div> <div class="flex-row grow-children"><button>Imperial</button> <button>Original</button> <button>Metric</button></div></div> <button class="mla rounded blue p0_5 vertically-centered gap0_5"><!> Add tags</button></div> <div class="recipe-columns flex-col gap1 svelte-wd4g5o"><div class="flex-col gap1 svelte-wd4g5o"></div> <div class="flex-col gap1 svelte-wd4g5o"><!> <!></div></div>',1),Br=_('<div class="card mt1"><h2>ERROR: No recipe :/</h2></div>'),Or=_('<button class="rounded blue flex-row vertically-centered gap0_5"><!> </button>'),Kr=(a,t,l)=>{t(e(l))},Mr=_('<button class="rounded blue flex-row vertically-centered gap0_5"><!> </button>'),Hr=(a,t)=>{u(t,!1)},Ur=(a,t)=>{t()},Dr=_('<button class="flex-row rounded green gap0_5 vertically-centered" title="Save" aria-label="Save"><!> Add new tag</button>'),Gr=_('<div class="flex-col gap1 svelte-wd4g5o"><h2>Tags</h2> <div><h3>Current tags</h3> <div class="flex-row wrap gap0_5 flex-start"></div></div> <div><h3>Other tags</h3> <div class="flex-row wrap gap0_5 flex-start"></div></div> <div class="flex-row vertically-centered"><label class="flex-row wrap gap0_5">Create new tag: <input class="grow downcase"></label></div> <div class="flex-row flex-end gap1"><button class="mla">Close</button> <!></div></div>'),jr=_('<!> <main class="svelte-wd4g5o"><div class="flex-col gap2 svelte-wd4g5o"><!></div> <!> <!></main> <!> <!>',1);function yo(a,t){_t(t,!0);const[l,x]=na(),w=()=>St(ve,"$data",l),T=()=>St(ya,"$last_list_id",l),ce=r=>{q(r,()=>e(m),()=>!0)},q=(r,c=yt,E=yt)=>{tr(r,{get section(){return c()},get isFocused(){return E()},get selectedKeyword(){return e(C)},get checked_items(){return e(F)},onHighlightKeyword:S=>{S===e(C)?u(C,null):u(C,S,!0)},onFocusIngredients:qe,onFocusSection:S=>{var R;c().id===((R=e(m))==null?void 0:R.id)?u(m,null):u(m,c(),!0)},onCloseSection:()=>{u(m,null)}})};let d=H(null);xt(()=>{_e()}),La(()=>{_e()});function _e(){let r=ga();r!==e(d)&&u(d,r,!0)}let z=H(Fe(Le.ORIGINAL)),ae=H(1),j=H(Fe(Nt("show_colors")));const ve=aa(null),D=ee(()=>pa(w(),e(j))),k=Fe(Lt()),y=ee(()=>[...new Set(k.map(r=>r.tags).filter(r=>!!r).flat().toSorted())]),N=ee(()=>e(d)?ka(e(d),k):null),ue=ee(()=>e(d)?xa(e(d),k):null);let C=H(null),F=H(Fe({})),m=H(null),B=H(null),g=H(null),h=H(!1),W=ee(()=>wa(e(D),e(j),e(z),e(ae))),He=null;vt(()=>{e(d)!==He&&(He=e(d),(async()=>de(!1))())});function Ae(r){r!==e(z)&&u(z,r,!0)}function Te(r){ze(r,e(ae))||u(ae,r,!0)}async function de(r=!1){u(F,{},!0),u(h,!0),ve.set(await fa(e(d),"",r)),u(h,!1),u(C,null),u(m,null)}function we(){ve&&ve.update(r=>(r&&e(g)&&(r.title=e(g),at(r)),r)),u(g,null)}let fe=Fe(da()),Ve=ee(()=>{var r;return!!((r=fe.find(c=>c.id===T()))!=null&&r.items.find(c=>c.recipe_url===e(d)))});function ke(r){let c=!1;for(let E of fe)if(E.id===r){for(let S of E.items)S.recipe_url===e(d)&&(S.quantity+=1,c=!0);c||(c=!0,E.items.push({recipe_url:e(d),quantity:1}))}c&&Ct(fe)}function xe(r){for(let c of fe)c.id===r&&(c.items=c.items.filter(E=>E.recipe_url!==e(d)));Ct(fe)}function qe(r){let c=[];for(let E of e(W).ingredients)for(let S of E.rows)S.fragments.find(R=>R.id&&r.has(R.id))&&c.push(ra(S));u(m,{id:ha("section"),text:"Ingredients in this row",level:3,rows:c},!0)}let Ne=H(Fe(Nt("keep_screen_awake"))),Q=H(""),J=H(!1);xt(()=>((async()=>await st(e(Ne),!1))(),async()=>{await st(!1,!1)}));function ye(){Ue(e(Q).toLowerCase()),u(Q,"")}function Ue(r){ve.update(c=>(c&&r&&(c.tags?c.tags.some(E=>E===r)||c.tags.push(r):c.tags=[r],at(c)),c))}let Ye=ee(()=>`https://github.com/loremdipso/recipease/issues/new?title=${encodeURIComponent("Broken URL")}&body=${encodeURIComponent(`URL in question: ${e(d)}

Why it is bad: TODO`)}&labels=parsing`);var De=jr(),dt=he(De);const Gt=ee(()=>({previously_selected_recipe:e(d)}));Ra(dt,{back_path:"/my-recipes",get page_data(){return e(Gt)},title_snippet:E=>{var S=fr(),R=i(S),V=i(R);{var Y=I=>{var p=sr();lt(p),ta(p),wt("keypress",p,f=>{f.key==="Enter"&&(f.preventDefault(),f.stopPropagation(),we())}),Et(p,()=>e(g),f=>u(g,f)),n(I,p)},re=I=>{var p=nr();p.__click=[lr,d];var f=i(p),X=i(f,!0);o(f),o(p),U(()=>{var v;return ne(X,(v=e(D))==null?void 0:v.title)}),n(I,p)};b(V,I=>{e(g)?I(Y):I(re,!1)})}o(R);var ge=s(R,2);{var Z=I=>{var p=vr(),f=he(p);f.__click=[cr,g];var X=i(f);rt(X),o(f);var v=s(f,2);v.__click=[_r,we];var L=i(v);Pa(L),o(v),U(()=>{Pe(f,"title",e(g)?"Save":"Edit"),Pe(f,"aria-label",e(g)?"Save":"Edit"),Pe(v,"title",e(g)?"Save":"Edit"),Pe(v,"aria-label",e(g)?"Save":"Edit")}),n(I,p)},pe=I=>{var p=dr();p.__click=[ur,g,D];var f=i(p);Fa(f),o(p),n(I,p)};b(ge,I=>{e(g)?I(Z):I(pe,!1)})}o(S),n(E,S)},extra_buttons:E=>{var S=kr(),R=he(S);Ba(R,{go_back:!0});var V=s(R,2);qa(V,{go_back:!1});var Y=s(V,2);Ta(Y);var re=s(Y,2);{var ge=f=>{Na(f,{onshare:async()=>{const X=new URL(window.location.href);X.search="",e(d)&&X.searchParams.set("url",e(d)),await navigator.share({title:"Here's a recipe for ya!",url:X.toString()})}})};b(re,f=>{e(D)&&f(ge)})}var Z=s(re,2);Z.__click=[gr,d,de];var pe=i(Z);Aa(pe),o(Z);var I=s(Z,2);{var p=f=>{Ca(f,{items:v=>{var L=wr(),O=i(L);let $;var be=s(O,2);be.__click=[pr,D];var A=s(be,2);A.__click=[br];var K=s(A,2);let oe;var Re=s(K,2);At(Re,{text:"Enable colors",get checked(){return e(j)},onchange:G=>{u(j,G,!0),Ut({show_colors:G})}});var Be=s(Re,2);{var Oe=G=>{At(G,{text:"Keep screen on",get checked(){return e(Ne)},onchange:ie=>{u(Ne,ie,!0),st(ie)}})};b(Be,G=>{navigator.wakeLock&&G(Oe)})}var Ge=s(Be,2);{var Ke=G=>{var ie=hr();ie.__click=[mr,B,d],n(G,ie)};b(Ge,G=>{e(D)&&G(Ke)})}o(L),U((G,ie)=>{Pe(O,"href",e(d)),$=te(O,1,"button-like",null,$,G),Pe(K,"href",e(Ye)),oe=te(K,1,"warning button-like",null,oe,ie)},[()=>({disabled:!e(d)}),()=>({disabled:!e(d)})]),n(v,L)}})};b(I,f=>{e(D)&&f(p)})}n(E,S)},$$slots:{title_snippet:!0,extra_buttons:!0}});var Xe=s(dt,2),Ze=i(Xe),jt=i(Ze);{var Jt=r=>{var c=xr();n(r,c)},zt=(r,c)=>{{var E=R=>{var V=Nr(),Y=he(V),re=i(Y);{var ge=P=>{const M=ee(()=>({url:e(N).url}));Tt(P,{url:"/my-recipes/recipe",get query_params(){return e(M)},go_back:!0,text:"Previous recipe",icon_prefix:Ee=>{Ea(Ee)},$$slots:{icon_prefix:!0}})};b(re,P=>{e(N)&&P(ge)})}var Z=s(re,2);{var pe=P=>{var M=yr(),Ce=i(M);const Ee=ee(()=>({url:e(ue).url}));Tt(Ce,{url:"/my-recipes/recipe",get query_params(){return e(Ee)},go_back:!0,text:"Next recipe",icon_postfix:se=>{ir(se)},$$slots:{icon_postfix:!0}}),o(M),n(P,M)};b(Z,P=>{e(ue)&&P(pe)})}o(Y);var I=s(Y,2),p=i(I),f=i(p);{var X=P=>{var M=Qe(),Ce=he(M);{var Ee=se=>{var me=Er();me.__click=[Rr,xe,T];var tt=i(me);rt(tt),Je(),o(me),n(se,me)},je=se=>{var me=Ir();me.__click=[Sr,ke,T];var tt=i(me);We(tt),Je(),o(me),n(se,me)};b(Ce,se=>{e(Ve)?se(Ee):se(je,!1)})}n(P,M)};b(f,P=>{T()!==null&&P(X)})}o(p);var v=s(p,2),L=i(v),O=i(L),$=i(O);let be;$.__click=[Lr,Te];var A=s($,2);let K;A.__click=[Cr,Te];var oe=s(A,2);let Re;oe.__click=[Fr,Te],o(O),o(L);var Be=s(L,2),Oe=i(Be);let Ge;Oe.__click=[Pr,Ae];var Ke=s(Oe,2);let G;Ke.__click=[Ar,Ae];var ie=s(Ke,2);let pt;ie.__click=[Tr,Ae],o(Be),o(v);var $e=s(v,2);$e.__click=[qr,J];var Zt=i($e);We(Zt),Je(),o($e),o(I);var bt=s(I,2),et=i(bt);Se(et,21,()=>e(W).ingredients,Ie,(P,M)=>{q(P,()=>e(M),()=>!1)}),o(et);var mt=s(et,2),ht=i(mt);Se(ht,17,()=>e(W).instructions,Ie,(P,M)=>{q(P,()=>e(M),()=>!1)});var $t=s(ht,2);Se($t,17,()=>e(W).notes,Ie,(P,M)=>{q(P,()=>e(M),()=>!1)}),o(mt),o(bt),U((P,M,Ce,Ee,je,se)=>{be=te($,1,"choice-button svelte-wd4g5o",null,be,P),K=te(A,1,"choice-button svelte-wd4g5o",null,K,M),Re=te(oe,1,"choice-button svelte-wd4g5o",null,Re,Ce),Ge=te(Oe,1,"choice-button svelte-wd4g5o",null,Ge,Ee),G=te(Ke,1,"choice-button svelte-wd4g5o",null,G,je),pt=te(ie,1,"choice-button svelte-wd4g5o",null,pt,se)},[()=>({selected:ze(e(ae),.5)}),()=>({selected:ze(e(ae),1)}),()=>({selected:ze(e(ae),2)}),()=>({selected:e(z)==Le.IMPERIAL}),()=>({selected:e(z)==Le.ORIGINAL}),()=>({selected:e(z)==Le.METRIC})]),n(R,V)},S=R=>{var V=Br();n(R,V)};b(r,R=>{e(D)?R(E):R(S,!1)},c)}};b(jt,r=>{e(h)?r(Jt):r(zt,!1)})}o(Ze);var ft=s(Ze,2);{var Wt=r=>{Ia(r,{text:"Are you sure?",accept:()=>{e(B)&&(ba(Lt(),e(B)),u(B,null),Mt("/my-recipes",{page_data:{is_going_back:!0}}))},cancel:()=>{u(B,null)}})};b(ft,r=>{e(B)&&r(Wt)})}var Qt=s(ft,2);{var Vt=r=>{const c=ee(()=>{var E;return(E=e(m))==null?void 0:E.id});rr(r,{content:ce,get id(){return e(c)}})};b(Qt,r=>{e(m)&&r(Vt)})}o(Xe);var gt=s(Xe,2);Sa(gt,{});var Yt=s(gt,2);{var Xt=r=>{la(r,{click:()=>{u(J,!1)},content:E=>{var S=Gr(),R=s(i(S),2),V=s(i(R),2);Se(V,5,()=>{var v;return((v=w())==null?void 0:v.tags)||[]},Ie,(v,L)=>{var O=Or();O.__click=()=>{ve.update(A=>(A!=null&&A.tags&&(A.tags=A.tags.filter(K=>K!==e(L)),at(A)),A))};var $=i(O);rt($);var be=s($);o(O),U(()=>ne(be,` ${e(L)??""}`)),n(v,O)}),o(V),o(R);var Y=s(R,2),re=s(i(Y),2);Se(re,21,()=>e(y),Ie,(v,L)=>{var O=Qe(),$=he(O);{var be=A=>{var K=Mr();K.__click=[Kr,Ue,L];var oe=i(K);We(oe);var Re=s(oe);o(K),U(()=>ne(Re,` ${e(L)??""}`)),n(A,K)};b($,A=>{var K;(!((K=w())!=null&&K.tags)||!w().tags.some(oe=>oe==e(L)))&&A(be)})}n(v,O)}),o(re),o(Y);var ge=s(Y,2),Z=i(ge),pe=s(i(Z));lt(pe),o(Z),o(ge);var I=s(ge,2),p=i(I);p.__click=[Hr,J];var f=s(p,2);{var X=v=>{var L=Dr();L.__click=[Ur,ye];var O=i(L);We(O),Je(),o(L),n(v,L)};b(f,v=>{e(Q)&&v(X)})}o(I),o(S),wt("keypress",pe,v=>{v.key==="Enter"&&(v.stopPropagation(),v.preventDefault(),ye())}),Et(pe,()=>e(Q),v=>u(Q,v)),n(E,S)},$$slots:{content:!0}})};b(Yt,r=>{e(J)&&r(Xt)})}n(a,De),ut(),x()}Bt(["click"]);export{yo as component};
