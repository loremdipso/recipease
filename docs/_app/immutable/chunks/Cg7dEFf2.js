import{ay as E,O as g,g as x,v as O,c as d,r as u,p as P,av as C,t as L,a as M}from"./DdW1EsoA.js";import{l as S,d as y,t as _,e as b,a as f}from"./CYIjoMr1.js";import{i as V}from"./xsFzECmQ.js";import{s as D}from"./B7XJn2s4.js";import{t as m,f as k}from"./DQ6ywEsN.js";import{a as j}from"./BhOZLbEh.js";function R(e,a,r=a){var t=E();S(e,"input",o=>{var l=o?e.defaultValue:e.value;if(l=c(e)?i(l):l,r(l),t&&l!==(l=a())){var v=e.selectionStart,n=e.selectionEnd;e.value=l??"",n!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(n,e.value.length))}}),(g&&e.defaultValue!==e.value||x(a)==null&&e.value)&&r(c(e)?i(e.value):e.value),O(()=>{var o=a();c(e)&&o===i(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function c(e){var a=e.type;return a==="number"||a==="range"}function i(e){return e===""?null:+e}var q=e=>{e.stopPropagation()},w=_('<div tabindex="0" role="button"><!></div>');function z(e,a){var r=w();r.__click=[q];var t=d(r);j(t,()=>a.content),u(r),b("keypress",r,()=>{}),f(e,r)}y(["click"]);var A=(e,a)=>{e.stopPropagation(),a.click()},B=_('<div class="popup svelte-42k1a3"><!></div>'),F=_('<div tabindex="0" role="button"><!></div>');function T(e,a){P(a,!0);const r=200;C(()=>{function n(s){s.key==="Escape"&&(s.preventDefault(),s.stopPropagation(),a.click())}return document.addEventListener("keyup",n),()=>{document.removeEventListener("keyup",n)}});var t=F();let o;t.__click=[A,a];var l=d(t);{var v=n=>{var s=B(),p=d(s);z(p,{content:h=>{a.content(h)}}),u(s),f(n,s)};V(l,n=>{a.content&&n(v)})}u(t),L(n=>o=D(t,1,"overlay svelte-42k1a3",null,o,n),[()=>({transparent:a.transparent})]),b("keypress",t,()=>{}),m(1,t,()=>k,()=>({duration:r})),m(2,t,()=>k,()=>({duration:r})),f(e,t),M()}y(["click"]);export{z as C,T as O,R as b};
