import{l as h,q as g,g as x,E as P,c as d,r as u,p as C,aA as L,t as M,a as O}from"./DSkh8qEa.js";import{l as S,d as y,t as _,e as b,a as f}from"./SB0OVNle.js";import{i as V}from"./CvGVVl0L.js";import{s as q}from"./XkMwF1L_.js";import{t as m,a as k}from"./Du2Mpddd.js";import{a as A}from"./B143Bn_A.js";function R(e,a,r=a){var t=h();S(e,"input",o=>{var l=o?e.defaultValue:e.value;if(l=c(e)?i(l):l,r(l),t&&l!==(l=a())){var v=e.selectionStart,n=e.selectionEnd;e.value=l??"",n!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(n,e.value.length))}}),(g&&e.defaultValue!==e.value||x(a)==null&&e.value)&&r(c(e)?i(e.value):e.value),P(()=>{var o=a();c(e)&&o===i(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function c(e){var a=e.type;return a==="number"||a==="range"}function i(e){return e===""?null:+e}var D=e=>{e.stopPropagation()},j=_('<div tabindex="0" role="button"><!></div>');function w(e,a){var r=j();r.__click=[D];var t=d(r);A(t,()=>a.content),u(r),b("keypress",r,()=>{}),f(e,r)}y(["click"]);var z=(e,a)=>{e.stopPropagation(),a.click()},B=_('<div class="popup svelte-42k1a3"><!></div>'),F=_('<div tabindex="0" role="button"><!></div>');function T(e,a){C(a,!0);const r=200;L(()=>{function n(s){s.key==="Escape"&&(s.preventDefault(),s.stopPropagation(),a.click())}return document.addEventListener("keyup",n),()=>{document.removeEventListener("keyup",n)}});var t=F();let o;t.__click=[z,a];var l=d(t);{var v=n=>{var s=B(),p=d(s);w(p,{content:E=>{a.content(E)}}),u(s),f(n,s)};V(l,n=>{a.content&&n(v)})}u(t),M(n=>o=q(t,1,"overlay svelte-42k1a3",null,o,n),[()=>({transparent:a.transparent})]),b("keypress",t,()=>{}),m(1,t,()=>k,()=>({duration:r})),m(2,t,()=>k,()=>({duration:r})),f(e,t),O()}y(["click"]);export{w as C,T as O,R as b};
